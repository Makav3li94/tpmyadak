import{h as j,b as C,l as y,j as a}from"./index-Drr-5sAG.js";import{a as n,b as v}from"./textarea-input-nUcVDi94.js";import{B as i}from"./button-D1dAOqhP.js";import{M as E}from"./modal-WeCai6g3.js";import"./createLucideIcon-B95_Wfhm.js";import"./search-4klp1YUx.js";import"./spinner-Dg4AeWrR.js";import"./x-9agbjimF.js";function F(p){const{modalState:s,user:d}=p,{data:o,setData:m,post:u,put:h,processing:x,errors:r,reset:b,clearErrors:g}=j({user_id:d.id,name:d.name,postal_code:"",m_code:"",mobile:d.mobile,phone:"",address:""}),t=e=>{m(e.target.name,e.target.type==="checkbox"?e.target.checked?1:0:e.target.value)},f=()=>{s.setData(null),b(),g()},l=()=>{f(),s.toggle()},_=e=>{e.preventDefault();const c=s.data;if(c!==null){h(route("user.addresses.update",c.id),{onSuccess:()=>l()});return}u(route("user.addresses.store"),{onSuccess:()=>l()})};return C.useEffect(()=>{const e=s.data;y.isEmpty(e)===!1&&m({user_id:e.user_id,name:e.name,postal_code:e.postal_code,m_code:e.m_code,mobile:e.mobile,phone:e.phone,address:e.address})},[s]),a.jsx(E,{isOpen:s.isOpen,onClose:l,title:"کاربران",children:a.jsxs("form",{className:"form-control space-y-2.5",onSubmit:_,children:[a.jsx(n,{name:"name",value:o.name,onChange:t,label:"نام و نام خانوادگی",error:r.name}),a.jsx(n,{name:"postal_code",value:o.postal_code,onChange:t,label:"کدپستی",error:r.postal_code,maxLength:10}),a.jsx(n,{name:"m_code",value:o.m_code,onChange:t,label:"کدملی خریدار",maxLength:10,error:r.m_code}),a.jsx(n,{name:"mobile",value:o.mobile,onChange:t,label:"موبایل",maxLength:11,error:r.mobile}),a.jsx(n,{name:"phone",value:o.phone,onChange:t,label:"تلفن ثابت",maxLength:11,error:r.phone}),a.jsx(v,{name:"address",value:o.address,label:"آدرس",onChange:t,error:r.address}),a.jsxs("div",{className:"flex items-center space-x-2 mt-4 w-full justify-around",children:[a.jsx(i,{processing:x,btnType:"submit",type:"primary",children:"ذخیره"}),a.jsx(i,{onClick:l,type:"secondary",children:"انصراف"})]})]})})}export{F as default};

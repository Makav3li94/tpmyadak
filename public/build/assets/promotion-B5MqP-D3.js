import{r as c,j as e,L as g}from"./app-CEn9gDP0.js";import{u as w}from"./react-use-cart.esm-Cv-cSYYc.js";import{i as y}from"./textarea-input-DSg7ULnx.js";import{B as N}from"./button-Bp_ek5oN.js";import{u as b}from"./embla-carousel-react.esm-DO6bbl2W.js";import{S as f}from"./star-BJtOX-lW.js";/* empty css            */import"./createLucideIcon-C9-lRvcn.js";import"./search-C9e6tlGp.js";const v=({targetDate:l})=>{console.log(l);const[s,i]=c.useState(new Date(l).getTime()),[o,p]=c.useState({days:0,hours:0,minutes:0,seconds:0});c.useEffect(()=>{setInterval(()=>u(),1e3)},[]);const u=()=>{if(s){const d=new Date().getTime(),a=s-d;let r=Math.floor(a/(1e3*60*60*24)),m=Math.floor(a%(1e3*60*60*24)/(1e3*60*60)),h=Math.floor(a%(1e3*60*60)/(1e3*60)),t=Math.floor(a%(1e3*60)/1e3);const n=[1,2,3,4,5,6,7,8,9];r=`${r}`,n.includes(m)?m=`0${m}`:n.includes(h)?h=`0${h}`:n.includes(t)&&(t=`0${t}`),p({days:r,hours:m,minutes:h,seconds:t})}};return e.jsxs("div",{className:"flex gap-x-1 sm:gap-x-4",children:[e.jsxs("div",{className:"w-10 sm:w-14 border-2 border-gray-300 rounded-sm flex flex-col items-center px-4 py-2",children:[e.jsx("span",{className:"font-bold",children:o.days||"0"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-400 font-ligh",children:"روز"})]}),e.jsxs("div",{className:"w-10 sm:w-14 border-2 border-gray-300 rounded-sm flex flex-col items-center px-4 py-2",children:[e.jsx("span",{className:"font-bold",children:o.hours||"00"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-400 font-light",children:"ساعت"})]}),e.jsxs("div",{className:"w-10 sm:w-14 border-2 border-gray-300 rounded-md flex flex-col items-center px-4 py-2",children:[e.jsx("span",{className:"font-bold",children:o.minutes||"00"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-400 font-light",children:"دقیقه"})]}),e.jsxs("div",{className:"w-10 sm:w-14 border-2 border-gray-300 rounded-md flex flex-col items-center px-4 py-2",children:[e.jsx("span",{className:"font-bold",children:o.seconds||"00"}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-400 font-light",children:"ثانیه"})]})]})},S=l=>{const[s,i]=c.useState(0),[o,p]=c.useState([]),u=c.useCallback(r=>{l&&l.scrollTo(r)},[l]),d=c.useCallback(r=>{p(r.scrollSnapList())},[]),a=c.useCallback(r=>{i(r.selectedScrollSnap())},[]);return c.useEffect(()=>{l&&(d(l),a(l),l.on("reInit",d).on("reInit",a).on("select",a))},[l,d,a]),{selectedIndex:s,scrollSnaps:o,onDotButtonClick:u}},k=l=>{const{children:s,...i}=l;return e.jsx("button",{type:"button",...i,children:s})};function $({promoProducts:l}){const s=l[0],i=l.slice(1),o=[];for(let t=0;t<i.length;t+=3)o.push(i.slice(t,t+3));const[p,u]=b({axis:"y"}),{selectedIndex:d,scrollSnaps:a,onDotButtonClick:r}=S(u),{addItem:m}=w(),h=t=>{m({id:t.id,sku:t.sku,title:t.title,excerpt:t.excerpt,discount:t.discount,image:t.image,price:t.price})};return e.jsx("section",{className:"w-full flex justify-center  bg-base-200 py-12",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"grid grid-cols-12  lg:gap-x-10",children:[e.jsxs("div",{className:"col-span-12 flex lg:col-span-9 justify-between bg-white drop-shadow-lg shadow-gray-400 px-2 py-4 mt-16 items-center",children:[e.jsx("h3",{className:"modtitle2",children:e.jsx("span",{children:"حراج روز"})}),s&&!y(s)&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-[150px] h-[150px] sm:w-[300px] sm:h-[300px] md:w-[250px] md:h-[250px] lg:w-[350px] lg:h-[350px] xl:w-[400px] xl:h-[400px] flex-shrink-0 mx-auto ",children:e.jsx(g,{href:route("home.getProduct",s.sku),title:"dealofday",className:"relative block w-full h-full group overflow-hidden",children:e.jsx("img",{src:`https://cdn.tpmyadak.com/prothumb/${s.image}`,alt:"deal",className:"absolute inset-0 w-full h-full object-cover transition-opacity duration-300 group-hover:opacity-75 my-auto "})})}),e.jsxs("div",{className:"py-6 lg:py-12 md:px-8 lg:px-0 lg:pl-2",children:[e.jsx(g,{href:route("home.getProduct",s.sku),title:"producttitle",children:e.jsx("h4",{className:"text-[#333333] hover:text-[#d8330a] text-xs lg:text-base font-bold transition duration-300 ease-in",children:s.title})}),e.jsxs("div",{className:"flex my-6",children:[e.jsx(f,{className:"w-6 h-6 lg:w-4 lg:h-4 text-yellow-500"}),e.jsx(f,{className:"w-6 h-6 lg:w-4 lg:h-4 text-yellow-500"}),e.jsx(f,{className:"w-6 h-6 lg:w-4 lg:h-4 text-yellow-500"}),e.jsx(f,{className:"w-6 h-6 lg:w-4 lg:h-4 text-yellow-500"}),e.jsx(f,{className:"w-6 h-6 lg:w-4 lg:h-4 text-gray-500"})]}),e.jsxs("div",{className:"my-6 font-bold flex-grow text-gray-400",children:[e.jsxs("span",{className:"text-[#d8330a] text-sm sm:text-base pl-2",children:[parseInt(s.price-s.discount).toLocaleString("en")," میلیون"]}),e.jsxs("span",{className:"line-through text-sm sm:text-base",children:[parseInt(s.price).toLocaleString("en")," میلیون"]}),e.jsx("p",{className:"font-medium text-xs sm:text-sm mt-6",children:s.excerpt})]}),e.jsx(v,{targetDate:s.date_end}),e.jsx("div",{className:"flex mt-8 gap-x-1 ms:gap-x-2",children:e.jsxs(N,{onClick:()=>h(s),type:"danger",className:"relative flex  items-center justify-center rounded-md border border-transparent bg-gray-100 px-8 py-2 text-xs font-medium text-gray-900 hover:bg-gray-200",children:["افزودن به سبد خرید ",e.jsxs("span",{className:"sr-only",children:[", ",s.title]})]})})]})]})]}),e.jsxs("div",{className:"col-span-12 lg:col-span-3 lg:col-start-10 drop-shadow-lg shadow-gray-400 mt-16",children:[e.jsx("div",{className:"bg-[#d8330a] rounded-t-md py-3",children:e.jsx("span",{className:"text-white font-blod text-center px-3",children:"حراج روز"})}),e.jsx("div",{id:"indicators-carousel",className:"relative w-full bg-white","data-carousel":"static",children:e.jsx("div",{className:"relative md:h-[1200px] lg:h-[500px] overflow-hidden rounded-lg",children:e.jsxs("section",{className:"dembla h-full",children:[e.jsx("div",{className:"dembla__viewport",ref:p,children:e.jsx("div",{className:"dembla__container h-full",children:o.map((t,n)=>e.jsx("div",{className:"dembla__slide h-full flex flex-col",children:t.map((x,j)=>e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center relative after:absolute after:content-[''] after:bg-gray-200 after:w-[90%] after:h-[1px] after:top-full after:left-1/2 after:-translate-x-1/2 pt-3 ",children:[e.jsx("div",{className:"w-[250px] h-[250px] md:w-[300px] md:h-[300px] lg:w-[75px] lg:h-[75  px] xl:w-[90px] xl:h-[90px] lg:flex-shrink-0 mx-auto my-2",children:e.jsx(g,{href:route("home.getProduct",x.sku),title:"dealofday",className:"relative block w-full h-full group overflow-hidden md:mr-5 lg:mr-0",children:e.jsx("img",{src:`https://cdn.tpmyadak.com/prothumb/${x.image}`,alt:"deal",className:"absolute inset-0 w-full h-full object-cover transition-opacity duration-300 group-hover:opacity-75"})})})," ",e.jsxs("div",{className:"lg:py-2 lg:px-0 lg:pl-2 w-full text-center lg:text-start my-auto",children:[e.jsx(g,{href:route("home.getProduct",x.sku),title:"producttitle",children:e.jsx("h4",{className:"text-[#333333] hover:text-[#d8330a] text-lg font-bold lg:font-medium lg:text-sm transition duration-300 ease-in py-2",children:x.title.substring(0,40)+" ..."})}),e.jsxs("div",{className:"text-gray-400 py-1",children:[e.jsxs("div",{className:"line-through text-sm sm:text-base",children:[parseInt(x.price).toLocaleString("en")," میلیون"]}),e.jsxs("div",{className:"text-[#d8330a] text-sm sm:text-base pl-2",children:[parseInt(x.price-x.discount).toLocaleString("en")," میلیون"]})]})]})]},j))},n))})}),e.jsx("div",{className:"dembla__controls flex justify-center",children:e.jsx("div",{className:"dembla__dots",children:a.map((t,n)=>e.jsx(k,{onClick:()=>r(n),className:"dembla__dot".concat(n===d?" dembla__dot--selected":"")},n))})})]})})})]})]})})})}export{$ as default};

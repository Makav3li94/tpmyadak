import{b as i,j as e,H as M,d as T}from"./index-DDca1aiV.js";import{F}from"./front-layout-Cczxiv1M.js";import{u as L}from"./react-use-cart.esm-B9s7uaXZ.js";import{s as f}from"./textarea-input-Bmdp0oLw.js";import{B as z}from"./breadcrumb-B672qKnU.js";import H from"./related-products-DiO5WyxF.js";import{R,a as B}from"./review-form-DTJd4oux.js";import{u as v}from"./embla-carousel-react.esm-BQsc_tkz.js";import{B as A}from"./badge-lgw6TIeh.js";import{c as E}from"./createLucideIcon-RXBZCcM_.js";import{H as P}from"./product-card-C_Qyd9fr.js";import{S as Z}from"./theme-switch-CeGAbILo.js";import"./hooks-C1aZXtTk.js";import"./index-DDQ21QUK.js";import"./header-single-b2viebMN.js";import"./logo-C8A0auOY.js";import"./search-myPFLCWv.js";import"./x-C5pP27M6.js";import"./button-XQ7iUB_I.js";import"./spinner-D5QHHuo0.js";import"./plus-J8VVJKn2.js";import"./minus-CTVTFXQ9.js";import"./top-nav-8gEPz3yY.js";import"./chevron-left-DQg-zfff.js";import"./feature-Cn3oYtY8.js";import"./car-DkodfHbk.js";import"./card-BhTpkvGO.js";import"./checkbox-CHFsVXmp.js";const q=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],D=E("square-check-big",q),V=a=>{const{selected:n,index:c,onClick:o,img:x,ali:d}=a;return e.jsx("div",{className:"pembla-thumbs__slide".concat(n?" pembla-thumbs__slide--selected":""),children:e.jsx("button",{onClick:o,type:"button",className:"btn p-0",children:e.jsx("img",{src:x,alt:d,onClick:o,width:"75",height:75,loading:c===0?"eager":"lazy"})})},c)};function W({product:a,attributeGroups:n=[],relatedProducts:c,reviews:o,canReview:x,images:d}){const{addItem:N}=L(),[y,p]=i.useState(0),[b,j]=i.useState(!1),[w,k]=i.useState(""),[_,t]=v({direction:"rtl"}),[S,r]=v({direction:"rtl",containScroll:"keepSnaps",dragFree:!0}),C=i.useCallback(s=>{!t||!r||t.scrollTo(s)},[t,r]),m=i.useCallback(()=>{!t||!r||(p(t.selectedScrollSnap()),r.scrollTo(t.selectedScrollSnap()))},[t,r,p]);i.useEffect(()=>{t&&(m(),t.on("select",m).on("reInit",m))},[t,m]);const I=(s,l)=>{s.preventDefault(),k(l),j(!0)},u=s=>{N({id:s.id,sku:s.sku,title:s.title,excerpt:s.excerpt,discount:s.discount,image:s.image,price:s.price,stock:s.stock}),f("محصول به سبد خرید اضافه شد","success")},g=s=>{T.post(route("user.wishlists.store"),{item:s},{forceFormData:!0,onSuccess:()=>f("محصول به لیست خرید اضافه شد","success")})};return e.jsxs(e.Fragment,{children:[e.jsx(M,{title:a.title}),e.jsx(z,{l1:["محصولات","home.getProducts"],l2:[a.title,"home.getProduct",a.sku]}),e.jsxs("section",{className:"relative container",children:[e.jsx("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-0",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 mx-auto max-md:px-2 ",children:[e.jsxs("div",{className:"pembla",children:[e.jsx("div",{className:"pembla__viewport",ref:_,children:e.jsx("div",{className:"pembla__container",children:d.map((s,l)=>e.jsx("div",{className:"pembla__slide",children:e.jsxs("picture",{className:"d-flex align-items-center  cursor-pointer",children:[e.jsx("source",{srcSet:s.thumbnail,media:"(max-width:580px)",type:"image/webp"}),e.jsx("source",{srcSet:s.original,media:"(min-width:581px)",type:"image/webp"}),e.jsx("source",{srcSet:s.main,media:"(min-width:800px)",type:"image/webp"}),e.jsx("source",{srcSet:s.fullscreen,media:"(min-width:1401px)",type:"image/jpg"}),e.jsx("img",{src:s.fullscreen,alt:a.title,width:510,height:510,className:"card-pr-img-top  mx-auto articleShakes",onClick:h=>I(h,isMobile?s.main:s.fullscreen),loading:l===0?"eager":"lazy"})]})},l))})}),e.jsx("div",{className:"pembla-thumbs",children:e.jsx("div",{className:"pembla-thumbs__viewport",ref:S,children:e.jsx("div",{className:"pembla-thumbs__container justify-center gap-3",children:d.map((s,l)=>e.jsx(V,{onClick:()=>C(l),selected:l===y,index:l,img:s.thumbnailxs,ali:a.title},l))})})})]}),b&&e.jsx("div",{id:"myModal",className:`myModal ${b&&"d-block"}`,onClick:()=>j(!1),children:e.jsx("img",{src:w,alt:"zoomed",className:"myModal-content"})}),e.jsx("div",{className:"data w-full lg:pr-8 pr-0 xl:justify-start justify-center flex items-center max-lg:pb-10 xl:my-2 lg:my-5 my-0",children:e.jsxs("div",{className:"data w-full max-w-xl",children:[e.jsx("h2",{className:"font-manrope font-bold text-3xl leading-10  mb-2 capitalize",children:a.title}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center mb-6",children:[e.jsx("h6",{className:"font-manrope font-semibold text-2xl leading-9  pr-5 sm:border-r border-gray-200 ml-5",children:parseInt(a.price)!==0?e.jsxs(e.Fragment,{children:[parseInt(a.price).toLocaleString("en")," تومان"]}):e.jsx(A,{type:"primary",outline:!0,children:"ناموجود"})}),e.jsx("div",{className:"flex items-center gap-2"})]}),e.jsx("p",{className:" text-base font-normal mb-5",children:a.excerpt}),e.jsxs("div",{className:"grid grid-cols-1  gap-3 py-5",children:[e.jsx("div",{className:"",children:e.jsxs("ul",{className:"list  gap-y-1 ",children:[e.jsxs("li",{className:"list-row flex justify-between items-center",children:[e.jsx("div",{className:"w-32",children:e.jsx("strong",{children:"برند:"})}),e.jsx("div",{children:a.brand.title})]}),a.filters.map((s,l)=>e.jsxs("li",{className:"list-row flex justify-between items-center",children:[e.jsx("div",{className:"w-32",children:e.jsxs("strong",{children:[s.title,":"]})}),e.jsx("div",{children:s.pivot.value})]},l))]})}),e.jsx("div",{className:" ",children:e.jsx("ul",{className:"list  gap-y-1 ",children:n.length>0&&n.map((s,l)=>e.jsxs("li",{className:"list-row flex justify-between items-center",children:[e.jsx("div",{className:"w-32",children:e.jsxs("strong",{children:[s.group_title,":"]})}),e.jsx("div",{children:s.attributes.map((h,$)=>e.jsx("button",{className:`bg-white text-center py-1 px-4 w-full font-semibold
                                            text-xs leading-8  border border-gray-200 flex items-center
                                             rounded-full justify-center transition-all duration-300 hover:bg-gray-50
                                              hover:shadow-sm hover:shadow-gray-100 hover:border-gray-300
                                              visited:border-gray-300 visited:bg-gray-50 mb-2`,children:h.title}))})]}))})})]}),e.jsxs("div",{className:"Availability inline-block font-bold mb-5 mr-auto",children:[e.jsx("span",{className:"text-gray-400 text-xs",children:"موجودی: "}),e.jsx("span",{className:"text-gray-400 text-xs px-1",children:a.stock===0?e.jsx(e.Fragment,{children:"ناموجود"}):e.jsx(e.Fragment,{children:"موجود در انبار"})}),e.jsx(D,{className:"w-4 h-4 text-primary inline-block"}),"(",a.stock," عدد)"]}),e.jsxs("div",{className:"flex justify-start items-center  w-full",children:[e.jsx("div",{className:"w-32",children:e.jsx("strong",{children:"مناسب برای:"})}),e.jsx("div",{className:"flex flex-wrap gap-2 max-w-md",children:a.car_models.map((s,l)=>e.jsx("div",{className:"badge  badge-dash ruby",children:s.title},l))})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 py-8",children:[e.jsxs("button",{onClick:()=>g(a),className:`group transition-all duration-500 p-4 w-auto  flex items-center
                                         justify-center gap-2  rounded-full bg-base-300
                                         hover:bg-indigo-100 hover:shadow-sm hover:shadow-indigo-300`,children:[e.jsx(P,{width:"26",height:"26"}),"اضافه به علامندی"]}),e.jsxs("button",{onClick:()=>u(a),className:`group py-3 px-5 rounded-full bg-red-600 text-base-100
                                        font-semibold text-lg w-full flex items-center justify-center gap-2
                                        transition-all duration-500 hover:bg-indigo-100`,children:[e.jsx(Z,{className:" ",width:22,height:22}),"افزودن به سبد خرید"]})]})]})})]})}),e.jsx("div",{className:"mt-10 border-t border-gray-200 pt-10",children:e.jsxs("div",{className:"tabs tabs-lift",children:[e.jsx("input",{type:"radio",name:"my_tabs_3",className:"tab","aria-label":"معرفی"}),e.jsxs("div",{className:"tab-content bg-base-100 border-base-300 p-6",children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:a.about}}),e.jsx("div",{className:"prose prose-sm mt-4 ",children:e.jsx("ul",{className:"list  gap-y-4 mb-8",children:a.specs.map((s,l)=>e.jsxs("li",{className:"list-row flex justify-start",children:[e.jsx("div",{className:"w-48",children:e.jsxs("strong",{children:[s.title,":"]})}),e.jsx("div",{children:s.value})]},l))})})]}),e.jsx("input",{type:"radio",name:"my_tabs_3",className:"tab","aria-label":"بررسی تخصصی",defaultChecked:!0}),e.jsx("div",{className:"tab-content bg-base-100 border-base-300 p-6",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:a.description}})}),e.jsx("input",{type:"radio",name:"my_tabs_3",className:"tab","aria-label":"دیدگاه ها"}),e.jsxs("div",{className:"tab-content bg-base-100 border-base-300 p-6",children:[o.map((s,l)=>e.jsx(R,{review:s,i:l})),x?e.jsx(B,{reviewType:"product",model_id:a.id}):e.jsxs("div",{role:"alert",className:"alert alert-success",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:"شما دیدگاه خود را قبلا ارسال کرده اید."})]})]})]})})]}),e.jsx(H,{relatedProducts:c,handleAdd:u,handleWish:g})]})}W.layout=a=>e.jsx(F,{isSingle:!0,children:a});export{W as default};

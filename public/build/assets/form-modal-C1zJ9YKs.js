import{g,b as j,l as c,j as o}from"./error-baundry-BidbxAZT.js";import{T as l}from"./textarea-input-CD_7fYAM.js";import{B as m}from"./button-C5z6H_J0.js";import{C}from"./checkbox-DWGR3rVA.js";import{M as y}from"./modal-WnHntC5V.js";import"./createLucideIcon-DdzWq45B.js";import"./search-C23mt96Y.js";import"./spinner-0NNWyG-r.js";import"./x-CXsV8Ryh.js";function F(p){const{modalState:t}=p,{data:n,setData:i,post:d,put:u,processing:h,errors:r,reset:x,clearErrors:k}=g({name:"",link:"",code:"",bot_protection:""}),a=e=>{i(e.target.name,e.target.type==="checkbox"?e.target.checked?1:0:e.target.value)},f=()=>{t.setData(null),x(),k()},s=()=>{f(),t.toggle()},b=()=>{const e=t.data;if(e!==null){u(route("admin.shortlink.link.update",e),{onSuccess:()=>s()});return}d(route("admin.shortlink.link.store"),{onSuccess:()=>s()})};return j.useEffect(()=>{const e=t.data;if(c.isEmpty(e)===!1){i({name:e.name,link:e.real_link,code:e.code,bot_protection:e.bot_protection});return}},[t]),o.jsxs(y,{isOpen:t.isOpen,onClose:s,title:"شورتلینک",children:[o.jsxs("div",{className:"form-control space-y-2.5",children:[o.jsx(l,{name:"name",value:n.name,onChange:a,label:"نام",error:r.name}),o.jsx(l,{name:"link",value:n.link,onChange:a,label:"URL",error:r.link}),!c.isEmpty(t.data)&&o.jsx(l,{name:"code",value:n.code,onChange:a,label:"کد",error:r.code}),o.jsx(C,{name:"bot_protection",value:+n.bot_protection==1,onChange:a,label:"Bot Protection",error:r.bot_protection})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-4 justify-around",children:[o.jsx(m,{onClick:b,processing:h,type:"primary",children:"ساخت"}),o.jsx(m,{onClick:s,type:"secondary",children:"انصراف"})]})]})}export{F as default};

import{b as a,j as e,d as c}from"./index-DDca1aiV.js";import R from"./MultiRangeSlider--SxZIZPX.js";import i from"./searchFilter-ZwN2ByKv.js";import{X as o,x as m,L as x}from"./disclosure-CyuM4fQs.js";import{P as u}from"./plus-J8VVJKn2.js";import{M as p}from"./minus-CTVTFXQ9.js";import"./search-myPFLCWv.js";import"./createLucideIcon-RXBZCcM_.js";import"./open-closed-YwrQiBCr.js";function U({brands:N=null,carBrands:g=null,carModels:w=null,categories:S=null,filters:v=null,routeParam:r=null,children:F}){const[j,M]=a.useState(!1),[b,k]=a.useState(!1),[_,O]=a.useState(0),[P,B]=a.useState(99e6),[l,C]=a.useState({brands:[],carBrands:[],carModels:[],categories:[]}),[y,D]=a.useState({}),d=(s={})=>({priceMin:_,priceMax:P,staticFilters:l,dynamicFilters:y,in_stock:j,has_promotion:b,...s}),H=(s,t)=>{O(s),B(t),c.get(route(route().current(),r),d({priceMin:s,priceMax:t}),{replace:!0,preserveState:!0,preserveScroll:!0})},h=(s,t)=>{C(f=>{const n={...f,[s]:t};return c.get(route(route().current(),r),d({staticFilters:n}),{replace:!0,preserveState:!0,preserveScroll:!0}),n})},I=(s,t)=>{D(f=>{const n={...f,[s]:t};return c.get(route(route().current(),r),d({dynamicFilters:n}),{replace:!0,preserveState:!0,preserveScroll:!0}),n})},L=()=>{const s=!j;M(s),c.get(route(route().current(),r),d({in_stock:s}),{replace:!0,preserveState:!0,preserveScroll:!0})},E=()=>{const s=!b;k(s),c.get(route(route().current(),r),d({has_promotion:s}),{replace:!0,preserveState:!0,preserveScroll:!0})};return e.jsx("div",{className:"md:col-span-4 lg:col-span-3 lg:px-0 px-3",children:e.jsxs("div",{className:"drawer lg:drawer-open flex w-full",children:[e.jsx("input",{id:"my-drawer-3",type:"checkbox",className:"drawer-toggle"}),e.jsx("div",{className:"drawer-content flex flex-col items-center justify-center",children:e.jsx("label",{htmlFor:"my-drawer-3",className:"btn btn-xs btn-error text-base-100 drawer-button lg:hidden fixed right-0 top-3/8 z-1",children:"فیلترها"})}),e.jsxs("div",{className:"drawer-side h-full w-full",children:[e.jsx("label",{htmlFor:"my-drawer-3","aria-label":"close sidebar",className:"drawer-overlay"}),e.jsxs("div",{className:"border-[1px] border-gray-300 border-t-[#d8330a] rounded-md overflow-hidden",children:[e.jsx("div",{className:"bg-[#d8330a] text-base-100 py-3 px-7 font-semibold",children:"فیلترها"}),e.jsxs("ul",{className:"bg-base-100 py-4",children:[e.jsx("li",{children:e.jsx("fieldset",{className:"fieldset bg-base-100 border-base-300 rounded-box w-full lg:w-64 border p-4 mb-5",children:e.jsxs("label",{className:"label flex justify-between items-center",children:[e.jsx("input",{type:"checkbox",className:"toggle",checked:j,onChange:L}),e.jsx("div",{className:"text-base-content",children:"فقط موجود ها"})]})})}),e.jsx("li",{children:e.jsx("fieldset",{className:"fieldset bg-base-100 border-base-300 rounded-box w-full lg:w-64 border p-4 mb-5",children:e.jsxs("label",{className:"label flex justify-between items-center",children:[e.jsx("input",{type:"checkbox",className:"toggle",checked:b,onChange:E}),e.jsx("div",{className:"text-base-content",children:"تخفیف دار ها"})]})})}),e.jsx("li",{children:e.jsxs("fieldset",{className:"fieldset bg-base-100 border-base-300 rounded-box w-full lg:w-64 border p-4 mb-5",children:[e.jsx("div",{children:"محدوده قیمت"}),e.jsx(R,{min:0,max:99e6,onChange:({min:s,max:t})=>H(s,t)})]})}),N&&e.jsx("li",{className:"border-b border-gray-300 mb-2 pb-2",children:e.jsxs(o,{as:"div",className:"px-4",defaultOpen:!0,children:[e.jsx("dt",{children:e.jsxs(m,{className:"group flex w-full items-start justify-between text-left",children:[e.jsx("span",{className:"text-sm font-medium",children:"برند ها"}),e.jsxs("span",{className:"ml-6 flex h-7 items-center",children:[e.jsx(u,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e.jsx(p,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e.jsx(x,{as:"dd",className:"mt-4 p-0",children:e.jsx(i,{groupName:"brands",data:N,selected:l.brands,setSelected:s=>h("brands",s)})})]})}),g&&e.jsx("li",{className:"border-b border-gray-300 mb-2 pb-2",children:e.jsxs(o,{as:"div",className:"px-4",defaultOpen:!0,children:[e.jsx("dt",{children:e.jsxs(m,{className:"group flex w-full items-start justify-between text-left",children:[e.jsx("span",{className:"text-sm font-medium",children:"برند خودرو"}),e.jsxs("span",{className:"ml-6 flex h-7 items-center",children:[e.jsx(u,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e.jsx(p,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e.jsx(x,{as:"dd",className:"mt-4 p-0",children:e.jsx(i,{groupName:"carBrands",data:g,selected:l.carBrands,setSelected:s=>h("carBrands",s)})})]})}),w&&e.jsx("li",{className:"border-b border-gray-300 mb-2 pb-2",children:e.jsxs(o,{as:"div",className:"px-4",defaultOpen:!0,children:[e.jsx("dt",{children:e.jsxs(m,{className:"group flex w-full items-start justify-between text-left",children:[e.jsx("span",{className:"text-sm font-medium",children:"نوع خودرو"}),e.jsxs("span",{className:"ml-6 flex h-7 items-center",children:[e.jsx(u,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e.jsx(p,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e.jsx(x,{as:"dd",className:"mt-4 p-0",children:e.jsx(i,{groupName:"carModels",data:w,selected:l.carModels,setSelected:s=>h("carModels",s)})})]})}),S&&e.jsx("li",{className:"border-b border-gray-300 mb-2 pb-2",children:e.jsxs(o,{as:"div",className:"px-4",defaultOpen:!0,children:[e.jsx("dt",{children:e.jsxs(m,{className:"group flex w-full items-start justify-between text-left",children:[e.jsx("span",{className:"text-sm font-medium",children:"دسته بندی"}),e.jsxs("span",{className:"ml-6 flex h-7 items-center",children:[e.jsx(u,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e.jsx(p,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e.jsx(x,{as:"dd",className:"mt-4 p-0",children:e.jsx(i,{groupName:"categories",data:S,selected:l.categories,setSelected:s=>h("categories",s)})})]})}),v&&v.map(s=>e.jsx("li",{children:e.jsxs(o,{as:"div",className:"px-4",defaultOpen:!0,children:[e.jsx("dt",{children:e.jsxs(m,{className:"group flex w-full items-start justify-between text-left",children:[e.jsx("span",{className:"text-sm font-medium",children:s.title}),e.jsxs("span",{className:"ml-6 flex h-7 items-center",children:[e.jsx(u,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e.jsx(p,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e.jsx(x,{as:"dd",className:"mt-4 p-0",children:e.jsx(i,{groupName:s.title,data:s.values.map(t=>({label:t,value:t})),selected:y[s.id]||[],setSelected:t=>I(s.id,t)})})]})},s.id)),F]})]})]})]})})}export{U as default};

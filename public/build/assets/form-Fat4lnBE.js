import{b as _,h as j,j as e,H as b,l as i,L as v}from"./index-Drr-5sAG.js";import{A as f}from"./authenticated-layout-WCVB870F.js";import{a as n,b as m}from"./textarea-input-nUcVDi94.js";import{B as p}from"./button-D1dAOqhP.js";import{C as g}from"./card-C_bdqEMF.js";import{S as y}from"./select-input-eznWKKWb.js";import{S as t}from"./select-modal-input-DZ5BDDqK.js";import"./index-DDQ21QUK.js";import"./x-9agbjimF.js";import"./createLucideIcon-B95_Wfhm.js";import"./user-profile-menu-CiyV9dD6.js";import"./car-SMeuGASo.js";import"./theme-switch-B4ARlo4z.js";import"./hooks-BQCqLFYh.js";import"./search-4klp1YUx.js";import"./spinner-Dg4AeWrR.js";import"./modal-WeCai6g3.js";import"./chevron-left-CS-KWwWV.js";import"./chevron-right-CEpMasf8.js";function G(){const[c,l]=_.useState(!1),u={user_id:"",user:"",name:"",postal_code:"",order_address:"",mobile:"",phone:"",address_id:"",address:"",payment_method_id:"",payment_method:"",shipping_method_id:"",shipping_method:"",note:"",status:""},{data:a,setData:d,post:h,errors:r,clearErrors:N}=j(u),x=s=>{s.preventDefault(),h(route("admin.orders.store"),{onStart:()=>l(!0),onFinish:C=>{l(!1)}})},o=s=>{d(s.target.name,s.target.type==="checkbox"?s.target.checked?1:0:s.target.value)};return e.jsxs(f,{title:"سفارش",breadcumbs:[{name:"داشبورد",href:route("admin.dashboard")},{name:"سفارش",href:route("admin.orders.index")},{name:"ویرایش/ساخت",href:route("admin.orders.create")}],children:[e.jsx(b,{title:"سفارش"}),e.jsx(g,{children:e.jsx("form",{className:"form-control space-y-2.5",onSubmit:x,children:e.jsxs("div",{className:"flex flex-col gap-2 justify-between",children:[e.jsxs("div",{className:"flex  gap-12 w-full",children:[e.jsx("div",{className:"basis-1/2",children:e.jsx(t,{label:"مشتری",value:a.user,onChange:s=>d({...a,user:s,user_id:s?s.id:null}),onRemove:()=>d({...a,user:"",user_id:null}),error:r.user_id,params:{table:"users",columns:"id|name",orderby:"created_at.asc"}})}),e.jsx("div",{className:"basis-1/2",children:e.jsx(t,{label:"آدرس",value:a.address,readOnly:i.isEmpty(a.user),onChange:s=>d({...a,address:s,address_id:s?s.id:null,name:s.name,postal_code:s.postal_code,order_address:s.address,mobile:s.mobile,phone:s.phone}),onRemove:()=>d({...a,address:"",address_id:null}),error:r.address_id,params:{table:"addresses",columns:"id|name|mobile|phone|postal_code|address",orderby:"created_at.asc",raw_query:` \`user_id\` = '${a.user.id}'`}})})]}),!i.isEmpty(a.address)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex  gap-12 w-full",children:[e.jsx("div",{className:"basis-1/2",children:e.jsx(n,{name:"name",value:a.address.name,onChange:o,label:"نام و نام خانوادگی گیرنده",error:r.name})}),e.jsx("div",{className:"basis-1/2",children:e.jsx(n,{name:"name",value:a.address.postal_code,onChange:o,label:"کد پستی",error:r.postal_code})})]}),e.jsxs("div",{className:"flex  gap-12 w-full",children:[e.jsx("div",{className:"basis-1/2",children:e.jsx(n,{name:"mobile",value:a.address.mobile,onChange:o,label:"تلفن همراه گیرنده",error:r.name})}),e.jsx("div",{className:"basis-1/2",children:e.jsx(n,{name:"phone",value:a.address.phone,onChange:o,label:"تلفن ثابت",error:r.phone})})]}),e.jsx(m,{name:"order_address",value:a.address.address,label:"آدرس",onChange:o,error:r.order_address})]}),e.jsxs("div",{className:"flex  gap-12 w-full",children:[e.jsx("div",{className:"basis-1/2",children:e.jsx(t,{label:"متد پرداخت",value:a.payment_method,onChange:s=>d({...a,payment_method:s,payment_method_id:s?s.id:null}),onRemove:()=>d({...a,payment_method:"",payment_method_id:null}),error:r.payment_method_id,params:{table:"payment_methods",columns:"id|title",orderby:"created_at.asc"}})}),e.jsx("div",{className:"basis-1/2",children:e.jsx(t,{label:"متد ارسال",value:a.shipping_method,onChange:s=>d({...a,shipping_method:s,shipping_method_id:s?s.id:null}),onRemove:()=>d({...a,shipping_method:"",shipping_method_id:null}),error:r.shipping_method_id,params:{table:"shipping_methods",columns:"id|title",orderby:"created_at.asc"}})})]}),e.jsx(m,{name:"note",value:a.note,label:"توضیحات",onChange:o,error:r.note}),e.jsxs(y,{label:"وضعیت",value:a.status,onChange:o,error:r.status,name:"status",required:!0,children:[e.jsx("option",{children:"انتخاب کنید"},"status"),e.jsx("option",{value:"new",children:"جدید"},"status"),e.jsx("option",{value:"pending",children:"در حال بررسی"},"status"),e.jsx("option",{value:"hold",children:"در انتظار"},"status"),e.jsx("option",{value:"verify",children:"تایید شده"},"status"),e.jsx("option",{value:"processing",children:"در حال انجام"},"status"),e.jsx("option",{value:"done",children:"پایان یافته"},"status"),e.jsx("option",{value:"canceled",children:"لغو شده"},"status"),e.jsx("option",{value:"refunded",children:"مرجوعی"},"status")]}),e.jsx("div",{className:"divider"}),e.jsx("div",{className:"flex items-center ",children:e.jsxs("div",{className:"flex space-x-2 w-full justify-between",children:[e.jsx(p,{processing:c,btnType:"submit",type:"primary",children:"ذخیره"}),e.jsx(v,{href:route("admin.orders.index"),children:e.jsx(p,{type:"secondary",children:"انصراف"})})]})})]})})})]})}export{G as default};

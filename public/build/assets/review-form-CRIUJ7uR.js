import{j as e,u as h}from"./app-w6ZWBlOS.js";import{S as m}from"./star-Dp3UQVh-.js";import{b as i}from"./sonner-BFuyfz86.js";import{T as j,a as g,b as f,s as x}from"./textarea-input-ByyMt8dO.js";import{B as b}from"./button-BG0eDdK1.js";import{C as y}from"./card-DdK0hfzl.js";function N(s){return e.jsxs(e.Fragment,{children:[e.jsx("fieldset",{className:"fieldset",children:e.jsxs("label",{className:"fieldset-label",children:[e.jsx("input",{name:s.name,type:"checkbox",className:"checkbox bg-base-100",onChange:s.onChange,checked:s.value,disabled:s.disabled}),s.label]})}),e.jsx(j,{error:s.error})]})}function I({review:s,i:l}){return e.jsxs("div",{className:"flex space-x-4 text-sm text-gray-500 pb-4 border-b border-gray-300",children:[e.jsx("div",{className:"flex-none py-10",children:e.jsx("span",{className:"rounded-full mx-auto mt-4 inline-flex items-center justify-center h-[4.375rem] w-[4.375rem]  bg-gray-500 text-sm font-semibold text-white leading-none",children:s.author.name.split(" ").map(a=>a[0]).join("").toUpperCase()})}),e.jsxs("div",{className:`${l===0?"":"border-t border-gray-200"}  py-10 w-full`,children:[e.jsx("h3",{className:"font-medium text-gray-900",children:s.author.name}),e.jsx("p",{children:e.jsx("time",{dateTime:s.created_at,children:s.created_at})}),e.jsxs("div",{className:"mt-4 flex items-center",children:[e.jsx(m,{className:`w-6 h-6 lg:w-4 lg:h-4 ${s.rating>=1?"text-yellow-500":"text-gray-500"}`}),e.jsx(m,{className:`w-6 h-6 lg:w-4 lg:h-4 ${s.rating>=2?"text-yellow-500":"text-gray-500"}`}),e.jsx(m,{className:`w-6 h-6 lg:w-4 lg:h-4 ${s.rating>=3?"text-yellow-500":"text-gray-500"}`}),e.jsx(m,{className:`w-6 h-6 lg:w-4 lg:h-4 ${s.rating>=4?"text-yellow-500":"text-gray-500"}`}),e.jsx(m,{className:`w-6 h-6 lg:w-4 lg:h-4 ${s.rating>=5?"text-yellow-500":"text-gray-500"}`})]}),e.jsxs("p",{className:"sr-only",children:[s.rating," از 5"]}),e.jsx("div",{className:"mt-2",children:e.jsx("strong",{className:"mt-2",children:s.title})}),e.jsx("div",{dangerouslySetInnerHTML:{__html:s.review},className:"prose prose-sm mt-4 max-w-none text-gray-500"})]})]},s.id)}const p=({error:s})=>s?e.jsx("p",{className:" text-red-600 invalid-feedback ",children:s}):null;function v(s){const[l,a]=i.useState(s.current?s.current:null),[r,c]=i.useState(null);return e.jsxs("div",{className:"form-control w-full  gap-16 flex flex-row justify-between items-center",children:[e.jsxs("label",{className:" py-5 font-400 me-12 text-xs",children:["     ",s.label]}),e.jsx("div",{className:"me-2",children:[...Array(5)].map((d,n)=>{const t=n+1;return e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:"rating",className:"hidden",value:t,onChange:()=>{s.setData(s.name,t),a(t)}}),e.jsx("span",{className:`text-sm ${t<=(r||l)?"mfon":"mfoff"} cursor-pointer `,onMouseEnter:()=>c(t),onMouseLeave:()=>c(null),children:"★"},`user-${n}`)]},n)})}),e.jsx(p,{error:s.error})]})}function _({reviewType:s,model_id:l}){const{data:a,setData:r,post:c,put:d,processing:n,errors:t,reset:w,clearErrors:C}=h({model_id:l,title:"",body:"",overall:"",recommend:"",review_type:s}),u=o=>{o.preventDefault(),c(route("user.review.store"),{onSuccess:()=>x("دیدگاه شما با موفقیت ثبت شد.","success"),onError:()=>x("مشکلی پیش آمد.","error")})};return e.jsx(y,{children:e.jsxs("form",{className:"form-control space-y-2.5 flex flex-col",onSubmit:u,children:[e.jsx(g,{name:"title",value:a.title,onChange:o=>r("title",o.target.value),label:"عنوان",error:t.title}),e.jsx(f,{name:"body",required:!0,value:a.body,onChange:o=>r("body",o.target.value),label:"متن",placeHolder:"نظر خود را بنویسید",error:t.body}),e.jsxs("div",{className:"flex gap-3 justify-between items-center",children:[e.jsx("div",{className:"basis-full sm:basis-1/2",children:e.jsx(N,{label:"توصیه میکنید؟",name:"recommend",value:a.recommend,onChange:()=>r("recommend",1),error:t.recommend})}),e.jsx("div",{className:"basis-full sm:basis-1/2",children:e.jsx(v,{label:"امتیاز شما",data:a,setData:r,name:"overall"})})]}),e.jsx("div",{className:"divider"}),e.jsx("div",{className:"flex items-center space-x-2 mt-4 justify-end",children:e.jsx(b,{processing:n,btnType:"submit",type:"primary",children:"ارسال نظر"})})]})})}export{I as R,_ as a};

import{h as j,b as y,l as C,j as t}from"./index-Drr-5sAG.js";import{a as p}from"./textarea-input-nUcVDi94.js";import{B as c}from"./button-D1dAOqhP.js";import{C as _}from"./checkbox-b9_aTcyV.js";import{F as S}from"./form-file-DU_rVjzb.js";import{M as E}from"./modal-WeCai6g3.js";import{S as F}from"./select-modal-input-DZ5BDDqK.js";import"./createLucideIcon-B95_Wfhm.js";import"./search-4klp1YUx.js";import"./spinner-Dg4AeWrR.js";import"./x-9agbjimF.js";import"./chevron-left-CS-KWwWV.js";import"./chevron-right-CEpMasf8.js";import"./hooks-BQCqLFYh.js";function z(u){const{modalState:r}=u,i={title:"",slug:"",image:"",parent_id:"",status:""},{data:a,setData:o,post:d,put:g,processing:f,errors:s,clearErrors:h}=j(i),l=e=>{o(e.target.name,e.target.type==="checkbox"?e.target.checked?1:0:e.target.value)},x=()=>{r.setData(null),o(i),h()},n=()=>{x(),r.toggle()},b=e=>{e.preventDefault();const m=r.data;if(m!==null){g(route("admin.blog.categories.update",m),{onSuccess:()=>n()});return}d(route("admin.blog.categories.store"),{onSuccess:()=>n()})};return y.useEffect(()=>{const e=r.data;C.isEmpty(e)===!1&&o(e)},[r]),t.jsx(E,{isOpen:r.isOpen,onClose:n,title:"دسته وبلاگ",children:t.jsxs("form",{className:"form-control space-y-2.5",onSubmit:b,children:[t.jsx(p,{name:"title",value:a.title,onChange:l,label:"عنوان",error:s.title,required:!0}),t.jsx(p,{name:"slug",value:a.slug,onChange:l,label:"اسلاگ",error:s.slug}),a.parent_id!==0&&t.jsx(t.Fragment,{children:t.jsx(F,{label:"دسته",value:a.parent,onChange:e=>o({...a,parent:e,parent_id:e?e.id:null}),onRemove:()=>o({...a,parent:"",parent_id:null}),error:s.parent_id,params:{table:"blog_categories",columns:"id|title",orderby:"created_at.asc",raw_query:` \`parent_id\` = 0  AND \`id\` != '${a.id}'`}})}),t.jsx(S,{label:"تصویر",onChange:e=>o("image",e),error:s.image,url:a.image,filemimes:"image/jpg,image/jpeg,image/png"}),t.jsx(_,{label:"فعال",name:"status",value:a.status,onChange:l,error:s.status}),t.jsxs("div",{className:"flex items-center space-x-2 mt-4 justify-around",children:[t.jsx(c,{processing:f,btnType:"submit",type:"primary",children:"ذخیره"}),t.jsx(c,{onClick:n,type:"secondary",children:"انصراف"})]})]})})}export{z as default};

import{g as C,b as k,l as p,j as e,H as _,L as M,d as S}from"./index-DDca1aiV.js";import{a as m}from"./textarea-input-Bmdp0oLw.js";import{B as d}from"./button-XQ7iUB_I.js";import{C as h}from"./card-BhTpkvGO.js";import{M as E}from"./modal-confirm-CDCTryKL.js";import{S as L}from"./select-input-CYLdNonF.js";import{S as D}from"./select-modal-input-nQRqRJW1.js";import{A as F}from"./authenticated-layout-CUcCLVXv.js";import B from"./form-modal-C_VP0uAJ.js";import{u as x}from"./hooks-C1aZXtTk.js";import"./createLucideIcon-RXBZCcM_.js";import"./search-myPFLCWv.js";import"./spinner-D5QHHuo0.js";import"./modal-_zPzG4Kk.js";import"./x-C5pP27M6.js";import"./chevron-left-DQg-zfff.js";import"./chevron-right-BbGDDnQ9.js";import"./index-DDQ21QUK.js";import"./user-profile-menu-DgcEU99t.js";import"./car-DkodfHbk.js";import"./theme-switch-CeGAbILo.js";function se(f){const{user:s}=f,o=x(),i=x(),j={name:"",email:"",password:"",role_id:null,role:"",familiarity_id:"",ref_id:"",mobile:"",status:""},{data:r,setData:n,post:b,put:g,processing:c,errors:t,clearErrors:O}=C(j),l=a=>{n(a.target.name,a.target.type==="checkbox"?a.target.checked?1:0:a.target.value)},v=a=>{if(a.preventDefault(),!p.isEmpty(s)){g(route("admin.users.update",s));return}b(route("admin.users.store"))},y=()=>{i.data!==null&&S.delete(route("admin.addresses.destroy",i.data.id))};k.useEffect(()=>{p.isEmpty(s)===!1&&n({name:s.name,email:s.email,familiarity_id:s.familiarity_id,familiarity:s.familiarity,mobile:s.mobile,status:s.status})},[s]);const u=(a=null)=>{o.setData(a),o.toggle()},N=a=>{i.setData(a),i.toggle()};return e.jsxs(F,{title:"مشتری",breadcumbs:[{name:"داشبورد",href:route("admin.dashboard")},{name:"مشتری",href:route("admin.users.index")},{name:"ویرایش/ساخت",href:s?route("admin.users.edit",s):route("admin.users.create")}],children:[e.jsx(_,{title:"مشتری"}),e.jsxs("div",{class:"flex flex-col gap-5",children:[e.jsx(h,{children:e.jsxs("form",{className:"form-control space-y-2.5 w-full ",onSubmit:v,children:[e.jsxs("div",{className:"flex  gap-12 w-full",children:[e.jsx("div",{className:"basis-1/2",children:e.jsx(m,{name:"name",value:r.name,onChange:l,label:"نام و نام خانوادگی",error:t.name})}),e.jsx("div",{className:"basis-1/2",children:e.jsx(D,{label:"دسته",value:r.familiarity,onChange:a=>n({...r,familiarity:a,familiarity_id:a?a.id:null}),onRemove:()=>n({...r,familiarity:"",familiarity_id:null}),error:t.familiarity_id,params:{table:"familiarities",columns:"id|title",orderby:"created_at.asc"}})})]}),e.jsxs("div",{className:"flex  gap-12 w-full",children:[e.jsx("div",{className:"basis-1/2",children:e.jsx(m,{name:"email",type:"email",value:r.email,onChange:l,label:"ایمیل",error:t.email})}),e.jsx("div",{className:"basis-1/2",children:e.jsx(m,{name:"mobile",value:r.mobile,onChange:l,label:"موبایل",error:t.mobile})})]}),e.jsxs("div",{className:"flex  gap-12 w-full",children:[e.jsx("div",{className:"basis-1/2",children:e.jsx(m,{type:"password",name:"password",value:r.password,onChange:l,label:"رمز عبور",error:t.password})}),e.jsx("div",{className:"basis-1/2",children:e.jsxs(L,{label:"وضعیت",value:r.status,onChange:l,error:t.status,name:"status",required:!0,children:[e.jsx("option",{value:"active",children:"فعال"},"status"),e.jsx("option",{value:"suspend",children:"معلق"},"status"),e.jsx("option",{value:"pending",children:"انتظار"},"status")]})})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-4 justify-around",children:[e.jsx(d,{processing:c,btnType:"submit",type:"primary",children:"ذخیره"}),e.jsx(M,{href:route("admin.product.categories.index"),children:e.jsx(d,{type:"secondary",children:"انصراف"})})]})]})}),e.jsx(h,{children:e.jsx("div",{className:"flex  gap-12 w-full",children:e.jsxs("div",{className:"basis-1/2",children:[e.jsx("h3",{className:"text-lg mb-4",children:"لیست آدرس ها"}),s&&s.addresses&&s.addresses.length>0?s.addresses.map((a,w)=>e.jsx("div",{className:"card w-96 bg-base-100 card-sm shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h2",{className:"card-title",children:["آدرس ",++w]}),e.jsx("p",{children:a.name}),e.jsx("p",{children:a.postal_code}),e.jsx("p",{children:a.mobile}),e.jsx("p",{children:a.phone}),e.jsx("p",{children:a.address}),e.jsxs("div",{className:"justify-end card-actions",children:[e.jsx("button",{className:"btn btn-primary",onClick:()=>u(a),children:"ویرایش"}),e.jsx("button",{className:"btn btn-error",onClick:()=>N(a),children:"حذف"})]})]})})):e.jsxs("div",{role:"alert",className:"alert alert-warning alert-dash mt-5",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("span",{children:"آدرسی موجود نیست."})]}),e.jsx(d,{className:"mt-5",processing:c,btnType:"submit",type:"info",onClick:()=>u(),children:"افزودن آدرس"})]})})})]}),o.isOpen&&e.jsx(B,{modalState:o,user:s}),i.isOpen&&e.jsx(E,{onConfirm:y,modalState:i})]})}export{se as default};

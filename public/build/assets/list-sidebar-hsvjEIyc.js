import{b as l,j as e,d}from"./error-baundry-BidbxAZT.js";import H from"./MultiRangeSlider-BnntWpvF.js";import i from"./searchFilter-D_g7fSV0.js";import"./search-C23mt96Y.js";import"./createLucideIcon-DdzWq45B.js";function L({brands:u=null,carBrands:b=null,carModels:h=null,categories:j=null,filters:g=null,routeParam:a=null,children:f}){const[o,y]=l.useState(!1),[p,S]=l.useState(!1),[N,w]=l.useState(0),[v,k]=l.useState(99e6),[t,F]=l.useState({brands:[],carBrands:[],carModels:[],categories:[]}),[x,M]=l.useState({}),C=(s,r)=>{w(s),k(r),d.get(route(route().current(),a),{priceMin:s,priceMax:r,staticFilters:t,dynamicFilters:x},{replace:!0,preserveState:!0,preserveScroll:!0})},n=(s,r)=>{F(m=>{const c={...m,[s]:r};return d.get(route(route().current(),a),{priceMin:N,priceMax:v,staticFilters:c,dynamicFilters:x},{replace:!0,preserveState:!0,preserveScroll:!0}),c})},B=(s,r)=>{M(m=>{const c={...m,[s]:r};return d.get(route(route().current(),a),{priceMin:N,priceMax:v,staticFilters:t,dynamicFilters:c},{replace:!0,preserveState:!0,preserveScroll:!0}),c})},D=()=>{y(!o),d.get(route(route().current(),a),{in_stock:!o},{replace:!0,preserveState:!0,preserveScroll:!0})},E=()=>{S(!p),d.get(route(route().current(),a),{has_promotion:!p},{replace:!0,preserveState:!0,preserveScroll:!0})};return e.jsx("div",{className:"md:col-span-4 lg:col-span-3 lg:px-0  px-3",children:e.jsxs("div",{className:"drawer lg:drawer-open flex",children:[e.jsx("input",{id:"my-drawer-3",type:"checkbox",className:"drawer-toggle"}),e.jsx("div",{className:"drawer-content flex flex-col items-center justify-center",children:e.jsx("label",{htmlFor:"my-drawer-3",className:"btn btn-xs btn-error text-base-100 drawer-button lg:hidden fixed right-0 top-2/4 z-1",children:"فیلترها"})}),e.jsxs("div",{className:"drawer-side h-full",children:[e.jsx("label",{htmlFor:"my-drawer-3","aria-label":"close sidebar",className:"drawer-overlay"}),e.jsxs("div",{className:"border-[1px] border-gray-300 border-t-[#d8330a] rounded-md overflow-hidden",children:[e.jsx("div",{className:"bg-[#d8330a] text-base-100 py-3 px-7 font-semibold",children:"فیلترها"}),e.jsxs("ul",{className:"bg-base-100 py-4",children:[e.jsx("li",{children:e.jsx("fieldset",{className:"fieldset bg-base-100 border-base-300 rounded-box w-full lg:w-64 border p-4 mb-5",children:e.jsxs("label",{className:"label flex justify-between items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"toggle",checked:o,onChange:()=>D()}),e.jsx("div",{children:"فقط موجود ها"})]})})}),e.jsx("li",{children:e.jsx("fieldset",{className:"fieldset bg-base-100 border-base-300 rounded-box w-full lg:w-64 border p-4 mb-5",children:e.jsxs("label",{className:"label flex justify-between items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"toggle",checked:p,onChange:()=>E()}),e.jsx("div",{children:"تخفیف دار ها"})]})})}),e.jsx("li",{children:e.jsxs("fieldset",{className:"fieldset bg-base-100 border-base-300 rounded-box w-full lg:w-64 border p-4 mb-5",children:[e.jsx("div",{className:"",children:"محدوده قیمت"}),e.jsx(H,{min:0,max:99e6,onChange:({min:s,max:r})=>C(s,r)})]})}),u&&e.jsx("li",{children:e.jsxs("div",{className:"collapse collapse-plus bg-base-100 px-4",children:[e.jsx("input",{type:"radio",name:"filter-brands",defaultChecked:!0}),e.jsx("div",{className:"collapse-title text-gray-600 text-sm font-medium border-b border-gray-300",children:"برند ها"}),e.jsx("div",{className:"collapse-content mt-4 p-0",children:e.jsx(i,{groupName:"brands",data:u,selected:t.brands,setSelected:s=>n("brands",s)})})]})}),b&&e.jsx("li",{children:e.jsxs("div",{className:"collapse collapse-plus bg-base-100 px-4",children:[e.jsx("input",{type:"radio",name:"filter-carBrands"}),e.jsx("div",{className:"collapse-title text-gray-600 text-sm font-medium border-b border-gray-300",children:"برند خودرو"}),e.jsx("div",{className:"collapse-content mt-4 p-0",children:e.jsx(i,{groupName:"carBrands",data:b,selected:t.carBrands,setSelected:s=>n("carBrands",s)})})]})}),h&&e.jsx("li",{children:e.jsxs("div",{className:"collapse collapse-plus bg-base-100 px-4",children:[e.jsx("input",{type:"radio",name:"filter-carModels"}),e.jsx("div",{className:"collapse-title text-gray-600 text-sm font-medium border-b border-gray-300",children:"نوع خودرو"}),e.jsx("div",{className:"collapse-content mt-4 p-0",children:e.jsx(i,{groupName:"carModels",data:h,selected:t.carModels,setSelected:s=>n("carModels",s)})})]})}),j&&e.jsx("li",{children:e.jsxs("div",{className:"collapse collapse-plus bg-base-100 px-4",children:[e.jsx("input",{type:"radio",name:"filter-categories"}),e.jsx("div",{className:"collapse-title text-gray-600 text-sm font-medium border-b border-gray-300",children:"دسته بندی"}),e.jsx("div",{className:"collapse-content mt-4",children:e.jsx(i,{groupName:"categories",data:j,selected:t.categories,setSelected:s=>n("categories",s)})})]})}),g&&g.map(s=>e.jsx("li",{children:e.jsxs("div",{className:"collapse collapse-plus bg-base-100 px-4",children:[e.jsx("input",{type:"radio",name:"accordion-dynamic-filters"}),e.jsx("div",{className:"collapse-title text-gray-600 text-sm font-medium border-b border-gray-300",children:s.title}),e.jsx("div",{className:"collapse-content mt-4",children:e.jsx(i,{groupName:s.title,data:s.values.map(r=>({label:r,value:r})),selected:x[s.id]||[],setSelected:r=>B(s.id,r)})})]})},s.id)),f]})]})]})]})})}export{L as default};

import{g as b,b as y,l as C,j as r}from"./error-baundry-BidbxAZT.js";import{T as m}from"./textarea-input-CD_7fYAM.js";import{B as d}from"./button-C5z6H_J0.js";import{M as S}from"./modal-WnHntC5V.js";import{S as _}from"./select-modal-input-BZzoZuwF.js";import"./createLucideIcon-DdzWq45B.js";import"./search-C23mt96Y.js";import"./spinner-0NNWyG-r.js";import"./x-CXsV8Ryh.js";import"./chevron-left-Bp6mrRkZ.js";import"./chevron-right-BOu120xf.js";import"./hooks-DLZW9gSf.js";function N(p){const{modalState:o}=p,{data:a,setData:s,post:c,put:u,processing:x,errors:t,reset:h,clearErrors:f}=b({name:"",email:"",password:"",role_id:null,role:""}),n=e=>{s(e.target.name,e.target.type==="checkbox"?e.target.checked?1:0:e.target.value)},g=()=>{o.setData(null),h(),f()},l=()=>{g(),o.toggle()},j=e=>{e.preventDefault();const i=o.data;if(i!==null){u(route("admin.users.update",i),{onSuccess:()=>l()});return}c(route("admin.users.store"),{onSuccess:()=>l()})};return y.useEffect(()=>{const e=o.data;if(C.isEmpty(e)===!1){s({name:e.name,email:e.email,role_id:e.role_id,role:e.role,password:""});return}},[o]),r.jsx(S,{isOpen:o.isOpen,onClose:l,title:"مدیران",children:r.jsxs("form",{className:"form-control space-y-2.5",onSubmit:j,children:[r.jsx(m,{name:"name",value:a.name,onChange:n,label:"نام",error:t.name}),r.jsx(m,{name:"email",value:a.email,onChange:n,label:"ایمیل",error:t.email}),r.jsx(m,{type:"password",name:"password",value:a.password,onChange:n,label:"رمز عبور",error:t.password}),a.role!==null&&r.jsx(r.Fragment,{children:r.jsx(_,{label:"نقش",value:a.role,onChange:e=>s({...a,role:e,role_id:e?e.id:null}),onRemove:()=>s({...a,role:"",role_id:null}),error:t.role_id,params:{table:"roles",columns:"id|name",orderby:"created_at.asc"}})}),r.jsxs("div",{className:"flex items-center space-x-2 mt-4 justify-around",children:[r.jsx(d,{processing:x,btnType:"submit",type:"primary",children:"ذخیره"}),r.jsx(d,{onClick:l,type:"secondary",children:"انصراف"})]})]})})}export{N as default};

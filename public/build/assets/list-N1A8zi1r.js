import{j as e,L,r as p}from"./app-C_9r9D9M.js";import{F as w}from"./front-layout-BOv-u9FY.js";import{b as o}from"./sonner-DTWNSMpk.js";import{P as D}from"./product-card-DdeKCqDc.js";import{u as F}from"./react-use-cart.esm-jzgtk_8x.js";import{s as x}from"./textarea-input-3G1NARgs.js";import{B as E}from"./breadcrumb-CI08HdfV.js";import I from"./list-sidebar-DUebvWO4.js";import{u as R,a as W,P as M,N as T,A as q}from"./embla-carousel-autoplay.esm-C7RHUgJa.js";import{C as z}from"./card-Cc9dXt0Z.js";import"./lodash-BLbb6PWm.js";/* empty css            */import"./hooks-Bk6huwgV.js";import"./index-DDQ21QUK.js";import"./header-single-Cp3WHk-p.js";import"./createLucideIcon-CSHoP2FX.js";import"./logo-DrotYy6K.js";import"./search-CfK-XiU4.js";import"./button-CYxN4ZHN.js";import"./plus-Dbm82ezz.js";import"./chevron-left-DNDVTrV9.js";import"./feature-SiuU2dZw.js";import"./star-DMcUZJ09.js";import"./dayjs-B2iisHW2.js";import"./MultiRangeSlider-DsJJxWnu.js";import"./searchFilter-DJNWoD7_.js";const A=t=>{const[c,a]=o.useState(0),[i,d]=o.useState(0),l=o.useCallback(n=>{d(n.scrollSnapList().length),a(n.selectedScrollSnap())},[]);return o.useEffect(()=>{t&&(l(t),t.on("select",l),t.on("reInit",l))},[t,l]),{selectedSnap:c,snapCount:i}},G=t=>{const{selectedSnap:c,snapCount:a}=t;return e.jsxs("div",{className:"embla__selected-snap-display",children:[c+1," / ",a]})};function H(t){const{data:{links:c,data:a},brands:i=null,carBrands:d=null,carModels:l=null,categories:n=null,filters:h=null,productCategory:r}=t,{addItem:j}=F(),[g,b]=o.useState(""),[f,u]=R({align:"start",direction:"rtl",loop:!0},[q()]),{prevBtnDisabled:v,nextBtnDisabled:S,onPrevButtonClick:N,onNextButtonClick:C}=W(u),{selectedSnap:_,snapCount:y}=A(u),B=s=>{b(s.target.value),p.get(route(route().current(),r.slug),{column:s.target.value},{replace:!0,preserveState:!0,preserveScroll:!0})},P=s=>{j({id:s.id,title:s.title,excerpt:s.excerpt,discount:s.discount,image:s.image,price:s.price}),x("محصول به سبد خرید اضافه شد","success")},k=s=>{p.post(route("user.wishlists.store"),{item:s},{forceFormData:!0,onSuccess:()=>x("محصول به لیست خرید اضافه شد","success")})};return e.jsxs(e.Fragment,{children:[e.jsx(E,{l1:["دسته بندی",""],l2:[r.title,""]}),e.jsx("section",{className:"w-full container justify-center mb-12",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 md:gap-x-2 lg:gap-x-8 xl:gap-x-10",children:[e.jsx(I,{brands:i,carBrands:d,carModels:l,categories:n,filters:h,routeParam:r.slug}),e.jsxs("div",{className:"md:col-span-8 lg:col-span-9 mt-6 md:mt-0",children:[e.jsxs("h2",{className:"font-bold text-2xl pb-6",children:["زیردسته های موجود در : ",r.title]}),r.children&&r.children.length>0&&e.jsxs("section",{className:"bembla",children:[e.jsx("div",{className:"bembla__viewport",ref:f,children:e.jsx("div",{className:"bembla__container",children:r.children.map((s,m)=>e.jsx("div",{className:"bembla__slide",children:e.jsxs(z,{children:[e.jsx("figure",{children:s.image!==null?e.jsx("img",{src:route("file.show",s.image),className:"h-22",alt:"slide"}):e.jsx("div",{className:"bembla__slide__number",children:s.title})}),e.jsxs("div",{className:"card-body text-center p-2",children:[e.jsx(L,{href:route("home.getCategory",s.slug),children:e.jsx("h2",{className:"card-title justify-center",children:s.title})}),s.description!==null&&e.jsx("p",{children:s.description})]})]})},m))})}),e.jsxs("div",{className:"bembla__controls",children:[e.jsxs("div",{className:"bembla__buttons",children:[e.jsx(M,{onClick:N,disabled:v}),e.jsx(T,{onClick:C,disabled:S})]}),e.jsx(G,{selectedSnap:_,snapCount:y})]})]}),e.jsxs("div",{className:"my-8 text-left",children:[e.jsx("label",{htmlFor:"cars",children:"مرتب سازی"}),e.jsxs("select",{name:"cars",id:"cars",className:"border-[1px] border-gray-300 px-1 mx-2",value:g,onChange:s=>B(s),children:[e.jsx("option",{value:["created_at","desc"],children:"جدیدترین"}),e.jsx("option",{value:["price","asc"],children:"ارزانترین"}),e.jsx("option",{value:["price","desc"],children:"گرانترین"})]})]}),e.jsx("div",{className:"-mx-px grid grid-cols-1 border-l border-gray-200 sm:mx-0  sm:grid-cols-2 lg:grid-cols-4 ",children:a.map((s,m)=>e.jsx(D,{product:s,handleAdd:()=>P(s),handleWish:()=>k(s)},m))}),e.jsx("div",{className:"border-[1px] border-gray-200 mt-8"})]})]})})]})}H.layout=t=>e.jsx(w,{isSingle:!0,children:t});export{H as default};

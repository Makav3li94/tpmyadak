import{u as f,b as n,j as e,H as p,d as x,l as h}from"./index-DDca1aiV.js";import{C as j}from"./custom-layout-Da6rFmwO.js";import{s as v}from"./textarea-input-Bmdp0oLw.js";import{B as g}from"./button-XQ7iUB_I.js";import{C as y}from"./card-BhTpkvGO.js";import{R as N}from"./constants-CxROEh6M.js";import{RenderFormInput as C}from"./render-form-input-L52gieMk.js";import"./index-DDQ21QUK.js";import"./createLucideIcon-RXBZCcM_.js";import"./search-myPFLCWv.js";import"./spinner-D5QHHuo0.js";import"./checkbox-CHFsVXmp.js";import"./select-input-CYLdNonF.js";function P(){const{props:{field:a}}=f(),[t,o]=n.useState(JSON.parse(a.fields)),[m,l]=n.useState(!1),c=(r,s)=>{o(t.map(i=>(r.id===i.id&&(i.value=s),i)))},u=()=>{d()&&x.post(route("custom-form.public",a),{fields:JSON.stringify(t)},{onStart:()=>l(!0),onFinish:r=>{l(!1),o(t.map(s=>(s.value="",s)))}})},d=()=>!t.map(s=>h.isEmpty(s.value)&&s.required===N.yes?(v(`${s.name} is required`,"error"),!1):!0).includes(!1);return e.jsxs(j,{children:[e.jsx(p,{title:`Record - ${a.name}`}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("div",{className:"w-full md:w-1/2 flex flex-col gap-5 px-2",children:e.jsx(y,{children:e.jsxs("div",{className:"flex flex-col gap-2 justify-between",children:[e.jsx("div",{className:"text-2xl font-bold mb-2",children:a.name}),t.map(r=>e.jsx(C,{input:r,onChange:c},r.name)),e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"flex space-x-2",children:e.jsx(g,{onClick:u,processing:m,type:"primary",children:"Simpan"})})})]})})})})]})}export{P as default};

import{b as c,g as b,l as d,j as e,H as v,L as N}from"./index-DDca1aiV.js";import{A as g}from"./authenticated-layout-BuPpUsr6.js";import{a as w}from"./textarea-input-D1X_UlTc.js";import{B as n}from"./button-XQ7iUB_I.js";import{C as o}from"./card-BhTpkvGO.js";import{B as a}from"./badge-lgw6TIeh.js";import"./index-DDQ21QUK.js";import"./x-C5pP27M6.js";import"./createLucideIcon-RXBZCcM_.js";import"./user-profile-menu-DgcEU99t.js";import"./car-DkodfHbk.js";import"./theme-switch-CeGAbILo.js";import"./hooks-C1aZXtTk.js";import"./search-myPFLCWv.js";import"./spinner-D5QHHuo0.js";function R(h){const{ticket:s}=h,[m,r]=c.useState(!1),x={title:""},{data:u,setData:i,post:l,errors:j,clearErrors:k}=b(x),p=t=>{if(t.preventDefault(),d.isEmpty(s)===!1){l(route("admin.faq.update",s),{onStart:()=>r(!0),onFinish:y=>{r(!1)}});return}l(route("admin.ticket.store"),{onStart:()=>r(!0),onFinish:y=>{r(!1)}})};c.useEffect(()=>{d.isEmpty(s)||i({title:s.title,_method:"put"})},[s]);const f=t=>{i(t.target.name,t.target.type==="checkbox"?t.target.checked?1:0:t.target.value)};return e.jsxs(g,{title:"مشاهده تیکت",breadcumbs:[{name:"داشبورد",href:route("admin.dashboard")},{name:"تیکت",href:route("admin.tickets.index")},{name:"ویرایش/ساخت تیکت",href:s?route("admin.tickets.show",s):route("admin.tickets.create")}],children:[e.jsx(v,{title:"مشاهده تیکت"}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(o,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"عنوان"}),e.jsx("th",{children:"کاربر"}),e.jsx("th",{children:"تلفن"}),e.jsx("th",{children:"تاریخ"}),e.jsx("th",{children:"تغییر"}),e.jsx("th",{children:"بخش"}),e.jsx("th",{children:"اهمیت"}),e.jsx("th",{children:"وضعیت"}),e.jsx("th",{children:"وضعیت"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:s.title}),e.jsx("td",{children:s.user.name}),e.jsx("td",{children:s.user.mobile}),e.jsx("td",{children:s.created_at}),e.jsx("td",{children:s.updated_at}),e.jsx("td",{children:s.section}),e.jsx("td",{children:s.priority}),e.jsxs("td",{children:[s.answer==="0"&&e.jsx(a,{type:"secondry",outline:!0,children:"کاربر"}),s.answer==="1"&&e.jsx(a,{type:"secondry",outline:!0,children:"منتظر"}),s.answer==="2"&&e.jsx(a,{type:"secondry",outline:!0,children:"ادمین"})]}),e.jsx("td",{children:s.status?e.jsx(a,{type:"info",outline:!0,children:"باز"}):e.jsx(a,{type:"success",outline:!0,children:"بسته"})})]},s.id)})]})})}),e.jsxs(o,{children:[s.faqs.map(t=>e.jsxs("ul",{className:"list-unstyled p-3",children:[t.question&&e.jsxs("div",{className:"chat chat-start",children:[e.jsx("div",{className:"chat-image avatar",children:e.jsx("div",{className:"w-10 rounded-full",children:e.jsx("img",{alt:"Tailwind CSS chat bubble component",src:"https://img.daisyui.com/images/profile/demo/kenobee@192.webp"})})}),e.jsxs("div",{className:"chat-header",children:[s.user.name,e.jsx("time",{className:"text-xs opacity-50",children:t.created_at})]}),e.jsx("div",{className:"chat-bubble",children:t.question}),e.jsx("div",{className:"chat-footer opacity-50",children:"Delivered"})]}),t.reply&&e.jsxs("div",{className:"chat chat-end",children:[e.jsx("div",{className:"chat-image avatar",children:e.jsx("div",{className:"w-10 rounded-full",children:e.jsx("img",{alt:"Tailwind CSS chat bubble component",src:"https://img.daisyui.com/images/profile/demo/anakeen@192.webp"})})}),e.jsxs("div",{className:"chat-header",children:["پشتیبان",e.jsxs("time",{className:"text-xs opacity-50",children:["        ",t.reply_date]})]}),e.jsx("div",{className:"chat-bubble",children:t.reply}),e.jsx("div",{className:"chat-footer opacity-50",children:"Seen at 12:46"})]})]})),e.jsx("div",{className:"divider"}),s.status==="1"&&e.jsxs("form",{className:"form-control space-y-2.5",onSubmit:p,children:[e.jsx(w,{name:"reply",value:u.reply,label:" پاسخ به تیکت:",onChange:f,error:j.reply}),e.jsx("div",{className:"flex items-center ",children:e.jsxs("div",{className:"flex space-x-2 w-full justify-around",children:[e.jsx(n,{processing:m,btnType:"submit",type:"primary",children:"ذخیره"}),e.jsx(N,{href:route("admin.tickets.index"),children:e.jsx(n,{type:"secondary",children:"انصراف"})})]})})]})]})]})]})}export{R as default};

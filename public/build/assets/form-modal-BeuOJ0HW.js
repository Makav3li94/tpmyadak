import{g,b as j,l as c,j as o}from"./index-DDca1aiV.js";import{a as l}from"./textarea-input-Bmdp0oLw.js";import{B as m}from"./button-XQ7iUB_I.js";import{C}from"./checkbox-CHFsVXmp.js";import{M as y}from"./modal-_zPzG4Kk.js";import"./createLucideIcon-RXBZCcM_.js";import"./search-myPFLCWv.js";import"./spinner-D5QHHuo0.js";import"./x-C5pP27M6.js";function F(p){const{modalState:t}=p,{data:n,setData:i,post:d,put:u,processing:h,errors:a,reset:x,clearErrors:k}=g({name:"",link:"",code:"",bot_protection:""}),r=e=>{i(e.target.name,e.target.type==="checkbox"?e.target.checked?1:0:e.target.value)},f=()=>{t.setData(null),x(),k()},s=()=>{f(),t.toggle()},b=()=>{const e=t.data;if(e!==null){u(route("admin.shortlink.link.update",e),{onSuccess:()=>s()});return}d(route("admin.shortlink.link.store"),{onSuccess:()=>s()})};return j.useEffect(()=>{const e=t.data;if(c.isEmpty(e)===!1){i({name:e.name,link:e.real_link,code:e.code,bot_protection:e.bot_protection});return}},[t]),o.jsxs(y,{isOpen:t.isOpen,onClose:s,title:"شورتلینک",children:[o.jsxs("div",{className:"form-control space-y-2.5",children:[o.jsx(l,{name:"name",value:n.name,onChange:r,label:"نام",error:a.name}),o.jsx(l,{name:"link",value:n.link,onChange:r,label:"URL",error:a.link}),!c.isEmpty(t.data)&&o.jsx(l,{name:"code",value:n.code,onChange:r,label:"کد",error:a.code}),o.jsx(C,{name:"bot_protection",value:+n.bot_protection==1,onChange:r,label:"Bot Protection",error:a.bot_protection})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-4 justify-around",children:[o.jsx(m,{onClick:b,processing:h,type:"primary",children:"ساخت"}),o.jsx(m,{onClick:s,type:"secondary",children:"انصراف"})]})]})}export{F as default};

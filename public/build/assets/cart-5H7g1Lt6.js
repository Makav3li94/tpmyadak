import{j as e,L as N}from"./app-D0BZgUMB.js";import{F as b}from"./front-layout-Bg0yYKHe.js";import{b as l}from"./sonner-BFuyfz86.js";import{B as k}from"./breadcrumb-BTSB0_MD.js";import{u as w}from"./react-use-cart.esm-C7WiD2lj.js";import{n as v}from"./textarea-input-BMCHLsN1.js";import{B as x}from"./button-BtZhFir6.js";import{P as S,M as L,X as I}from"./header-single-Bc9i9d80.js";import{c as u}from"./createLucideIcon-Bo3pdkBr.js";import"./lodash-BLbb6PWm.js";/* empty css            */import"./index-DDQ21QUK.js";import"./feature-zzZJAJMd.js";import"./chevron-left-DefjymOk.js";import"./search-CWFc_Glu.js";import"./dayjs-B2iisHW2.js";/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],T=u("check",C);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],M=u("clock",_);function q(d){const[r,m]=l.useState(!1),[h,g]=l.useState(0),[p,f]=l.useState(0),{items:i,updateItemQuantity:c,removeItem:j,cartTotal:y,isEmpty:E}=w();function o(){let s=i.reduce((a,t)=>a=a+(t.discount===null?t.itemTotal:parseInt(t.price)*t.quantity),0),n=i.reduce((a,t)=>a=a+(t.discount===null?0:t.itemTotal-parseInt(t.price)*t.quantity),0);g(s),f(n)}return l.useEffect(()=>{m(!1),o()},[c]),l.useEffect(()=>{r||o(),m(!0)},[r]),console.log(i),e.jsxs(e.Fragment,{children:[e.jsx(k,{l1:["سبد خرید",""]}),e.jsx("section",{className:"w-full container justify-center",children:e.jsx("div",{className:"bg-white",children:e.jsxs("div",{className:"mx-auto max-w-2xl px-4 pb-24 pt-16 sm:px-6 lg:max-w-7xl lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:"سبد خرید"}),e.jsxs("form",{className:"mt-12 lg:grid lg:grid-cols-12 lg:items-start lg:gap-x-12 xl:gap-x-16",children:[e.jsxs("section",{"aria-labelledby":"cart-heading",className:"lg:col-span-7",children:[e.jsx("h2",{id:"cart-heading",className:"sr-only",children:"محصولات موجود در سبد"}),e.jsx("ul",{role:"list",className:"divide-y divide-gray-200 border-b border-t border-gray-200",children:r&&i.map((s,n)=>e.jsxs("li",{className:"flex py-6 sm:py-10",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{alt:s.title,src:route("file.show",s.image),className:"h-24 w-24 rounded-md object-cover object-center sm:h-48 sm:w-48"})}),e.jsxs("div",{className:"ml-4 flex flex-1 flex-col justify-between sm:ml-6",children:[e.jsxs("div",{className:"relative pr-9 sm:grid sm:grid-cols-2 sm:gap-x-6 sm:pr-0",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between",children:e.jsx("h3",{className:"text-sm",children:e.jsx(N,{href:s.sku,className:"font-medium text-gray-700 hover:text-gray-800",children:s.title})})}),e.jsxs("div",{className:"mt-1 flex text-sm",children:[e.jsx("p",{className:"text-gray-500",children:"test1"}),s.size?e.jsx("p",{className:"ml-4 border-l border-gray-200 pl-4 text-gray-500",children:s.size}):null]}),e.jsxs("p",{className:"mt-1 text-sm font-medium text-gray-900",children:[parseInt(s.price).toLocaleString("en")," تومان"]})]}),e.jsxs("div",{className:"mt-4 sm:mt-0 sm:pr-9",children:[e.jsx("div",{className:"absolute left-0 top-20",children:e.jsxs("ul",{className:"action flex items-center list-unstyled justify-center gap-3 ",children:[e.jsx("li",{className:"edit",children:e.jsx(x,{type:"success",className:"btn-xs",onClick:()=>c(s.id,s.quantity+1),children:e.jsx(S,{className:"fs-6_5  align-middle "})})}),e.jsx("li",{className:"edit",children:parseInt(s.quantity).toLocaleString("en")}),e.jsx("li",{className:"edit",children:e.jsx(x,{type:"warning",className:"btn-xs",onClick:a=>c(s.id,s.quantity-1),children:e.jsx(L,{className:"fs-6_5  align-middle "})})})]})}),e.jsx("div",{className:"absolute left-0 top-0",children:e.jsxs("button",{type:"button",onClick:()=>j(s.id),className:"-m-2 inline-flex p-2 text-gray-400 hover:text-gray-500",children:[e.jsx("span",{className:"sr-only",children:"حذف"}),e.jsx(I,{"aria-hidden":"true",className:"h-5 w-5"})]})})]})]}),e.jsxs("p",{className:"mt-4 flex space-x-2 text-sm text-gray-700",children:[s.stock?e.jsx(T,{"aria-hidden":"true",className:"h-5 w-5 flex-shrink-0 text-green-500"}):e.jsx(M,{"aria-hidden":"true",className:"h-5 w-5 flex-shrink-0 text-gray-300"}),e.jsx("span",{children:s.stock?"موحود در انبار":"ارسال تا 7 روز"})]})]})]},n))})]}),e.jsxs("section",{"aria-labelledby":"summary-heading",className:"mt-16 rounded-lg bg-gray-50 px-4 py-6 sm:p-6 lg:col-span-5 lg:mt-0 lg:p-8",children:[e.jsx("h2",{id:"summary-heading",className:"text-lg font-medium text-gray-900",children:"خلاصه سبد"}),r&&e.jsxs("dl",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("dt",{className:"text-sm text-gray-600",children:"مجموع"}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:h.toLocaleString("en")})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[e.jsx("dt",{className:"flex items-center text-sm text-gray-600",children:e.jsx("span",{children:"تخفیف"})}),e.jsx("dd",{className:"text-sm font-medium text-gray-900",children:p.toLocaleString("en")})]}),e.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-4",children:[e.jsx("dt",{className:"text-base font-medium text-gray-900",children:"قابل پرداخت"}),e.jsx("dd",{className:"text-base font-medium text-gray-900",children:v(parseInt(y).toLocaleString("en"))})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"submit",className:"w-full rounded-md border border-transparent bg-red-600 px-4 py-3 text-base font-medium text-white shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-50",children:"پرداخت صورتحساب"})})]})]})]})})})]})}q.layout=d=>e.jsx(b,{isSingle:!0,children:d});export{q as default};

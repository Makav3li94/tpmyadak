import{g as y,b as v,l as E,j as a}from"./error-baundry-BidbxAZT.js";import{T as n,a as S}from"./textarea-input-CD_7fYAM.js";import{B as p}from"./button-C5z6H_J0.js";import{M as L}from"./modal-WnHntC5V.js";import"./createLucideIcon-DdzWq45B.js";import"./search-C23mt96Y.js";import"./spinner-0NNWyG-r.js";import"./x-CXsV8Ryh.js";function N(u){const{modalState:s,user:d,is_user:m=!1}=u,{data:o,setData:c,post:h,put:x,processing:g,errors:r,reset:b,clearErrors:f}=y({user_id:d.id,name:d.name,postal_code:"",m_code:"",mobile:d.mobile,phone:"",address:""});console.log(m);const t=e=>{c(e.target.name,e.target.type==="checkbox"?e.target.checked?1:0:e.target.value)},_=()=>{s.setData(null),b(),f()},l=()=>{_(),s.toggle()},j=e=>{e.preventDefault();const i=s.data;if(i!==null){x(route("admin.addresses.update",i),{onSuccess:()=>l()});return}const C=m?"home.address":"admin.addresses.store";h(route(C),{onSuccess:()=>l()})};return v.useEffect(()=>{const e=s.data;E.isEmpty(e)===!1&&c({user_id:e.user_id,name:e.name,postal_code:e.postal_code,m_code:e.m_code,mobile:e.mobile,phone:e.phone,address:e.address})},[s]),a.jsx(L,{isOpen:s.isOpen,onClose:l,title:"کاربران",children:a.jsxs("form",{className:"form-control space-y-2.5",onSubmit:j,children:[a.jsx(n,{name:"name",value:o.name,onChange:t,label:"نام و نام خانوادگی",error:r.name}),a.jsx(n,{name:"postal_code",value:o.postal_code,onChange:t,label:"کدپستی",error:r.postal_code,maxLength:10}),a.jsx(n,{name:"m_code",value:o.m_code,onChange:t,label:"کدملی خریدار",maxLength:10,error:r.m_code}),a.jsx(n,{name:"mobile",value:o.mobile,onChange:t,label:"موبایل",maxLength:11,error:r.mobile}),a.jsx(n,{name:"phone",value:o.phone,onChange:t,label:"تلفن ثابت",maxLength:11,error:r.phone}),a.jsx(S,{name:"address",value:o.address,label:"آدرس",onChange:t,error:r.address}),a.jsxs("div",{className:"flex items-center space-x-2 mt-4 w-full justify-around",children:[a.jsx(p,{processing:g,btnType:"submit",type:"primary",children:"ذخیره"}),a.jsx(p,{onClick:l,type:"secondary",children:"انصراف"})]})]})})}export{N as default};

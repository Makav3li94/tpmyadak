import{b as x,d as u,j as e,H as y,L as h}from"./index-DDca1aiV.js";import{H as c}from"./has-permission-Z9BZDH1f.js";import{A as C}from"./authenticated-layout-BuPpUsr6.js";import{S as P,D as d}from"./textarea-input-D1X_UlTc.js";import{B as m}from"./button-XQ7iUB_I.js";import{C as S}from"./card-BhTpkvGO.js";import{M as k}from"./modal-confirm-CDCTryKL.js";import{P as $}from"./pagination-BARGUo9o.js";import{u as D}from"./hooks-C1aZXtTk.js";import{u as H}from"./usePrevious-CdWrhvz4.js";import{P as R}from"./pencil-DOxcDJ9Q.js";import{T as _}from"./trash-BbLWN5rg.js";import"./index-DDQ21QUK.js";import"./x-C5pP27M6.js";import"./createLucideIcon-RXBZCcM_.js";import"./user-profile-menu-DgcEU99t.js";import"./car-DkodfHbk.js";import"./theme-switch-CeGAbILo.js";import"./search-myPFLCWv.js";import"./spinner-D5QHHuo0.js";import"./modal-_zPzG4Kk.js";import"./chevron-left-DQg-zfff.js";import"./chevron-right-BbGDDnQ9.js";const z=({fields:l,h:r})=>{const a=JSON.parse(l).find(i=>r.id===i.id);return a?e.jsx("td",{children:a.value}):e.jsx("td",{})};function te(l){const{field:r,data:{links:a,data:i}}=l,n=JSON.parse(r.fields),[t,p]=x.useState(""),j=H(t),o=D(),N=s=>{o.setData(s),o.toggle()},b=()=>{o.data!==null&&u.delete(route("custom-form.form-records.destroy",{form:r,formRecord:o.data.id}))},v={q:t};return x.useEffect(()=>{j&&u.get(route(route().current(),{form:r}),{q:t},{replace:!0,preserveState:!0})},[t]),e.jsxs(C,{title:"Custom Form",breadcumbs:[{name:"Custom Form",href:route("custom-form.forms.index")},{name:`Form - ${r.name}`,href:route("custom-form.form-records.index",r)}],children:[e.jsx(y,{title:`Record - ${r.name}`}),e.jsx("div",{children:e.jsxs(S,{children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between mb-4",children:[e.jsxs("div",{className:"flex-1 flex flex-col md:flex-row gap-2",children:[e.jsx(c,{p:"create-custom-form-record",children:e.jsx(h,{href:route("custom-form.form-records.create",r),children:e.jsx(m,{size:"sm",type:"primary",className:"w-full",children:"Tambah"})})}),e.jsx("a",{href:route("custom-form.public",r),target:"_blank",children:e.jsx(m,{size:"sm",type:"secondary",className:"w-full",children:"Public Form"})}),e.jsx("a",{href:route("custom-form.form-records.export",r),target:"_blank",children:e.jsx(m,{size:"sm",type:"info",className:"w-full",children:"Export"})}),e.jsx("a",{href:route("custom-form.form-records.print",r),target:"_blank",children:e.jsx(m,{size:"sm",type:"accent",className:"w-full",children:"Print"})})]}),e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"w-full",children:e.jsx(P,{onChange:s=>p(s.target.value),value:t})})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table mb-4",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[n.map(s=>e.jsx("th",{children:s.name},s.id)),e.jsx("th",{})]})}),e.jsx("tbody",{children:i.map((s,w)=>e.jsxs("tr",{children:[n.map((f,g)=>e.jsx(z,{fields:s.fields,h:f},`sub.${f.id}.${s.id}.${g}`)),e.jsx("td",{className:"text-end",children:e.jsxs(d,{children:[e.jsx(c,{p:"update-custom-form-record",children:e.jsx(d.Item,{children:e.jsxs(h,{href:route("custom-form.form-records.edit",{form:r,formRecord:s}),className:"flex space-x-1 items-center",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("div",{children:"Ubah"})]})})}),e.jsx(c,{p:"delete-custom-form-record",children:e.jsx(d.Item,{onClick:()=>N(s),children:e.jsxs("div",{className:"flex space-x-1 items-center",children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx("div",{children:"Hapus"})]})})})]})})]},`${w}.${s.id}`))})]})}),e.jsx("div",{className:"w-full overflow-x-auto flex lg:justify-center",children:e.jsx($,{links:a,params:v})})]})}),e.jsx(k,{onConfirm:b,modalState:o})]})}export{te as default};

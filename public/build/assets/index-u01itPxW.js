import{b as c,d as n,j as e,H as y,L as g}from"./error-baundry-BidbxAZT.js";import{u as v}from"./hooks-DLZW9gSf.js";import{A as _}from"./authenticated-layout-1SLO0Xta.js";import{H as a}from"./has-permission-A6K2jlkE.js";import{S as N,D as l}from"./textarea-input-CD_7fYAM.js";import{B as w}from"./button-C5z6H_J0.js";import{C as E}from"./card-BPyOgDvQ.js";import{M as b}from"./modal-confirm-DHIOnuwj.js";import{P as C}from"./pagination-CB8nUsu3.js";import{B as s}from"./badge-BcrvmegJ.js";import{u as S}from"./usePrevious-y0ixDW0h.js";import{P}from"./pencil-CESERsTB.js";import{T as k}from"./trash-jewLTMBv.js";import"./index-DDQ21QUK.js";import"./x-CXsV8Ryh.js";import"./createLucideIcon-DdzWq45B.js";import"./user-profile-menu--c0GZxSI.js";import"./car-B-6ET-mT.js";import"./theme-switch-Dm1-p3wq.js";import"./search-C23mt96Y.js";import"./spinner-0NNWyG-r.js";import"./modal-WnHntC5V.js";import"./chevron-left-Bp6mrRkZ.js";import"./chevron-right-BOu120xf.js";function ee(o){const{data:{links:d,data:u}}=o,[r,h]=c.useState(""),m=S(r),i=v(),p=t=>{i.setData(t),i.toggle()},x=()=>{i.data!==null&&n.delete(route("admin.orders.destroy",i.data.id))},j={q:r};return c.useEffect(()=>{m&&n.get(route(route().current()),{q:r},{replace:!0,preserveState:!0})},[r]),e.jsxs(_,{title:"سفارش",breadcumbs:[{name:"داشبورد",href:route("admin.dashboard")},{name:"سفارش",href:route("admin.orders.index")}],children:[e.jsx(y,{title:"سفارش"}),e.jsx("div",{children:e.jsxs(E,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(a,{p:"create-order",children:e.jsx(g,{href:route("admin.orders.create"),children:e.jsx(w,{size:"sm",type:"primary",children:"سفارش جدید"})})}),e.jsx("div",{className:"flex items-center",children:e.jsx(N,{onChange:t=>h(t.target.value),value:r})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"گیرنده"}),e.jsx("th",{children:"مبلغ کل"}),e.jsx("th",{children:" پرداخت"}),e.jsx("th",{children:" ارسال"}),e.jsx("th",{children:"وضعیت سفارش"}),e.jsx("th",{children:"وضعیت پرداخت"}),e.jsx("th",{children:"تاریخ"}),e.jsx("th",{})]})}),e.jsx("tbody",{children:u.map((t,f)=>e.jsxs("tr",{children:[e.jsx("td",{children:t.user.name}),e.jsx("td",{children:parseInt(t.total).toLocaleString("en")}),e.jsxs("td",{children:[t.payment_status==="unpaid"&&e.jsx(s,{type:"Error",outline:!0,children:"عدم پرداخت"}),t.payment_status==="partial"&&e.jsx(s,{type:"Error",outline:!0,children:"قسطی"}),t.payment_status==="paid"&&e.jsx(s,{type:"Error",outline:!0,children:"پرداخت شده"}),t.payment_status==="refund"&&e.jsx(s,{type:"Error",outline:!0,children:"مرجوعی"})]}),e.jsxs("td",{children:[t.shipping_status==="refunded"&&e.jsx(s,{type:"Error",outline:!0,children:"مرجوعی"}),t.shipping_status==="done"&&e.jsx(s,{type:"success",outline:!0,children:"تحویل شده"}),t.shipping_status==="sending"&&e.jsx(s,{type:"primary",outline:!0,children:"درحال ارسال"}),t.shipping_status==="not_sent"&&e.jsx(s,{type:"info",outline:!0,children:"ارسال نشده"})]}),e.jsxs("td",{children:[t.status==="new"&&e.jsx(s,{type:"primary",outline:!0,children:"انتظار تایید"}),t.status==="pending"&&e.jsx(s,{type:"accent",outline:!0,children:"درصف پردازش"}),t.status==="hold"&&e.jsx(s,{type:"secondary",outline:!0,children:"معلق"}),t.status==="verify"&&e.jsx(s,{type:"success",outline:!0,children:"تایید شده"}),t.status==="processing"&&e.jsx(s,{type:"info",outline:!0,children:"درحال پردازش"}),t.status==="done"&&e.jsx(s,{type:"success",outline:!0,children:"تکمیل شده"}),t.status==="canceled"&&e.jsx(s,{type:"Warning",outline:!0,children:"کنسل شده"}),t.status==="refunded"&&e.jsx(s,{type:"Error",outline:!0,children:"مرجوعی"})]}),e.jsx("td",{children:t.created_at}),e.jsx("td",{className:"text-right",children:e.jsxs(l,{children:[e.jsx(a,{p:"update-order",children:e.jsx(l.Item,{onClick:()=>n.visit(route("admin.orders.show",t)),children:e.jsxs("div",{className:"flex space-x-1 items-center",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("div",{children:"ویرایش"})]})})}),e.jsx(a,{p:"delete-order",children:e.jsx(l.Item,{onClick:()=>p(t),children:e.jsxs("div",{className:"flex space-x-1 items-center",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("div",{children:"حذف"})]})})})]})})]},f))})]})}),e.jsx("div",{className:"w-full overflow-x-auto flex lg:justify-center",children:e.jsx(C,{links:d,params:j})})]})}),e.jsx(b,{modalState:i,onConfirm:x})]})}export{ee as default};

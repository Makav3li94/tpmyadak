import{j as e,b as i,h}from"./index-Drr-5sAG.js";import{c as g}from"./createLucideIcon-B95_Wfhm.js";import{a as j,b as f,s as x}from"./textarea-input-nUcVDi94.js";import{B as y}from"./button-D1dAOqhP.js";import{C as p}from"./card-C_bdqEMF.js";import{C as b}from"./checkbox-b9_aTcyV.js";const N=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],m=g("star",N);function L({review:s,i:l}){return e.jsxs("div",{className:"flex space-x-4 text-sm text-gray-500 pb-4 border-b border-gray-300",children:[e.jsx("div",{className:"flex-none py-10",children:e.jsx("span",{className:"rounded-full mx-auto mt-4 inline-flex items-center justify-center h-[4.375rem] w-[4.375rem]  bg-gray-500 text-sm font-semibold text-white leading-none",children:s.author.name.split(" ").map(a=>a[0]).join("").toUpperCase()})}),e.jsxs("div",{className:`${l===0?"":"border-t border-gray-200"}  py-10 w-full`,children:[e.jsx("h3",{className:"font-medium text-gray-900",children:s.author.name}),e.jsx("p",{children:e.jsx("time",{dateTime:s.created_at,children:s.created_at})}),e.jsxs("div",{className:"mt-4 flex items-center",children:[e.jsx(m,{className:`w-6 h-6 lg:w-4 lg:h-4 ${s.rating>=1?"text-yellow-500":"text-gray-500"}`}),e.jsx(m,{className:`w-6 h-6 lg:w-4 lg:h-4 ${s.rating>=2?"text-yellow-500":"text-gray-500"}`}),e.jsx(m,{className:`w-6 h-6 lg:w-4 lg:h-4 ${s.rating>=3?"text-yellow-500":"text-gray-500"}`}),e.jsx(m,{className:`w-6 h-6 lg:w-4 lg:h-4 ${s.rating>=4?"text-yellow-500":"text-gray-500"}`}),e.jsx(m,{className:`w-6 h-6 lg:w-4 lg:h-4 ${s.rating>=5?"text-yellow-500":"text-gray-500"}`})]}),e.jsxs("p",{className:"sr-only",children:[s.rating," از 5"]}),e.jsx("div",{className:"mt-2",children:e.jsx("strong",{className:"mt-2",children:s.title})}),e.jsx("div",{dangerouslySetInnerHTML:{__html:s.review},className:"prose prose-sm mt-4 max-w-none text-gray-500"})]})]},s.id)}const v=({error:s})=>s?e.jsx("p",{className:" text-red-600 invalid-feedback ",children:s}):null;function w(s){const[l,a]=i.useState(s.current?s.current:null),[r,c]=i.useState(null);return e.jsxs("div",{className:"form-control w-full  gap-16 flex flex-row justify-between items-center",children:[e.jsxs("label",{className:" py-5 font-400 me-12 text-xs",children:["     ",s.label]}),e.jsx("div",{className:"me-2",children:[...Array(5)].map((d,n)=>{const t=n+1;return e.jsxs("label",{children:[e.jsx("input",{type:"radio",name:"rating",className:"hidden",value:t,onChange:()=>{s.setData(s.name,t),a(t)}}),e.jsx("span",{className:`text-sm ${t<=(r||l)?"mfon":"mfoff"} cursor-pointer `,onMouseEnter:()=>c(t),onMouseLeave:()=>c(null),children:"★"},`user-${n}`)]},n)})}),e.jsx(v,{error:s.error})]})}function H({reviewType:s,model_id:l}){const{data:a,setData:r,post:c,put:d,processing:n,errors:t,reset:C,clearErrors:S}=h({model_id:l,title:"",body:"",overall:"",recommend:"",review_type:s}),u=o=>{o.preventDefault(),c(route("user.review.store"),{onSuccess:()=>x("دیدگاه شما با موفقیت ثبت شد.","success"),onError:()=>x("مشکلی پیش آمد.","error")})};return e.jsx(p,{children:e.jsxs("form",{className:"form-control space-y-2.5 flex flex-col",onSubmit:u,children:[e.jsx(j,{name:"title",value:a.title,onChange:o=>r("title",o.target.value),label:"عنوان",error:t.title}),e.jsx(f,{name:"body",required:!0,value:a.body,onChange:o=>r("body",o.target.value),label:"متن",placeHolder:"نظر خود را بنویسید",error:t.body}),e.jsxs("div",{className:"flex gap-3 justify-between items-center",children:[e.jsx("div",{className:"basis-full sm:basis-1/2",children:e.jsx(b,{label:"توصیه میکنید؟",name:"recommend",value:a.recommend,onChange:()=>r("recommend",1),error:t.recommend})}),e.jsx("div",{className:"basis-full sm:basis-1/2",children:e.jsx(w,{label:"امتیاز شما",data:a,setData:r,name:"overall"})})]}),e.jsx("div",{className:"divider"}),e.jsx("div",{className:"flex items-center space-x-2 mt-4 justify-end",children:e.jsx(y,{processing:n,btnType:"submit",type:"primary",children:"ارسال نظر"})})]})})}export{L as R,H as a};

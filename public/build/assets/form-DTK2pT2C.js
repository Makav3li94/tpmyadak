import{b as l,g as b,l as m,j as e,H as _,L as C}from"./index-DDca1aiV.js";import{a as u}from"./textarea-input-Bmdp0oLw.js";import{B as p}from"./button-XQ7iUB_I.js";import{C as S}from"./card-BhTpkvGO.js";import{C as E}from"./checkbox-CHFsVXmp.js";import{F}from"./form-file-ZfSHQtYK.js";import{S as v}from"./select-modal-input-BugIFlqg.js";import{S as k}from"./select2-input-wkGN2gkH.js";import{A as H}from"./authenticated-layout-CUcCLVXv.js";import"./createLucideIcon-RXBZCcM_.js";import"./search-myPFLCWv.js";import"./spinner-D5QHHuo0.js";import"./modal-_zPzG4Kk.js";import"./x-C5pP27M6.js";import"./chevron-left-DQg-zfff.js";import"./chevron-right-BbGDDnQ9.js";import"./hooks-C1aZXtTk.js";import"./floating-ui.dom-D_CZBSCQ.js";import"./index-DDQ21QUK.js";import"./user-profile-menu-DgcEU99t.js";import"./car-DkodfHbk.js";import"./theme-switch-CeGAbILo.js";function Y(d){const{productCategory:r,filters:c}=d,[n,g]=l.useState(!1),f={title:"",slug:"",image:"",parent_id:0,filter_array:[],status:""},{data:a,setData:o,post:h,put:x,processing:y,errors:i,clearErrors:I}=b(f),s=t=>{o(t.target.name,t.target.type==="checkbox"?t.target.checked?1:0:t.target.value)},j=t=>{if(t.preventDefault(),!m.isEmpty(r)){x(route("admin.product.categories.update",r));return}h(route("admin.product.categories.store"))};return l.useEffect(()=>{m.isEmpty(r)===!1&&o({title:r.title,slug:r.slug,image:r.image,parent_id:r.parent_id,parent:r.parent,filter_array:r.def_filters,status:r.status}),g(!0)},[r]),console.log(r),e.jsxs(H,{title:"دسته محصول",breadcumbs:[{name:"داشبورد",href:route("admin.dashboard")},{name:"دسته محصول",href:route("admin.product.categories.index")},{name:"ویرایش/ساخت",href:r?route("admin.product.categories.edit",r):route("admin.product.categories.create")}],children:[e.jsx(_,{title:"دسته محصول"}),e.jsx(S,{children:e.jsxs("form",{className:"form-control space-y-2.5",onSubmit:j,children:[e.jsx(u,{name:"title",value:a.title,onChange:s,label:"عنوان",error:i.title,required:!0}),e.jsx(u,{name:"slug",value:a.slug,onChange:s,label:"اسلاگ",error:i.slug}),n&&e.jsx(k,{label:"Filter",name:"filter_array",isMulti:!0,options:c,error:i.filter_array,defaultValue:a.filter_array,placeHolder:"فیلتر ها",onChange:t=>o("filter_array",t)}),n&&e.jsx(e.Fragment,{children:e.jsx(v,{label:"دسته",value:a.parent,onChange:t=>o({...a,parent:t,parent_id:t?t.id:null}),onRemove:()=>o({...a,parent:"",parent_id:null}),error:i.parent_id,params:{table:"product_categories",columns:"id|title",orderby:"created_at.asc",raw_query:`  \`id\` != '${a.id}'`}})}),e.jsx(F,{label:"تصویر",onChange:t=>o("image",t),error:i.image,url:a.image,dir:"category/",compress:!0,filemimes:"image/jpg,image/jpeg,image/png,image/webp"}),e.jsx(E,{label:"فعال",name:"status",value:a.status,onChange:s,error:i.status}),e.jsxs("div",{className:"flex items-center space-x-2 mt-4 justify-around",children:[e.jsx(p,{processing:y,btnType:"submit",type:"primary",children:"ذخیره"}),e.jsx(C,{href:route("admin.product.categories.index"),children:e.jsx(p,{type:"secondary",children:"انصراف"})})]})]})})]})}export{Y as default};

import{Y as x,y as T,o as y,x as q,N as z,B as g,a as h,z as J,K as k,A as Y,T as _,I as Q,C as W,D as Z,u as w,E as V,g as ee,i as X,G as P,F as te,$ as le,q as se,w as ne,v as re,V as G}from"./open-closed-YwrQiBCr.js";import{R as b,b as s}from"./index-DDca1aiV.js";var H;let ae=(H=b.startTransition)!=null?H:function(e){e()};var oe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(oe||{}),ue=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(ue||{});let ce={0:e=>({...e,disclosureState:w(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},B=s.createContext(null);B.displayName="DisclosureContext";function F(e){let t=s.useContext(B);if(t===null){let u=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,F),u}return t}let O=s.createContext(null);O.displayName="DisclosureAPIContext";function L(e){let t=s.useContext(O);if(t===null){let u=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,L),u}return t}let R=s.createContext(null);R.displayName="DisclosurePanelContext";function ie(){return s.useContext(R)}function de(e,t){return w(t.type,ce,e,t)}let pe=s.Fragment;function fe(e,t){let{defaultOpen:u=!1,...i}=e,c=s.useRef(null),d=T(t,_(a=>{c.current=a},e.as===void 0||Q(e.as))),p=s.useReducer(de,{disclosureState:u?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:l,buttonId:n},S]=p,r=y(a=>{S({type:1});let m=ee(c.current);if(!m||!n)return;let E=a?X(a)?a:"current"in a&&X(a.current)?a.current:m.getElementById(n):m.getElementById(n);E?.focus()}),$=s.useMemo(()=>({close:r}),[r]),f=h({open:l===0,close:r}),I={ref:d},v=k();return b.createElement(B.Provider,{value:p},b.createElement(O.Provider,{value:$},b.createElement(W,{value:r},b.createElement(Z,{value:w(l,{0:g.Open,1:g.Closed})},v({ourProps:I,theirProps:i,slot:f,defaultTag:pe,name:"Disclosure"})))))}let me="button";function Ee(e,t){let u=s.useId(),{id:i=`headlessui-disclosure-button-${u}`,disabled:c=!1,autoFocus:d=!1,...p}=e,[l,n]=F("Disclosure.Button"),S=ie(),r=S===null?!1:S===l.panelId,$=s.useRef(null),f=T($,t,y(o=>{if(!r)return n({type:4,element:o})}));s.useEffect(()=>{if(!r)return n({type:2,buttonId:i}),()=>{n({type:2,buttonId:null})}},[i,n,r]);let I=y(o=>{var D;if(r){if(l.disclosureState===1)return;switch(o.key){case P.Space:case P.Enter:o.preventDefault(),o.stopPropagation(),n({type:0}),(D=l.buttonElement)==null||D.focus();break}}else switch(o.key){case P.Space:case P.Enter:o.preventDefault(),o.stopPropagation(),n({type:0});break}}),v=y(o=>{switch(o.key){case P.Space:o.preventDefault();break}}),a=y(o=>{var D;te(o.currentTarget)||c||(r?(n({type:0}),(D=l.buttonElement)==null||D.focus()):n({type:0}))}),{isFocusVisible:m,focusProps:E}=le({autoFocus:d}),{isHovered:C,hoverProps:A}=se({isDisabled:c}),{pressed:M,pressProps:K}=ne({disabled:c}),U=h({open:l.disclosureState===0,hover:C,active:M,disabled:c,focus:m,autofocus:d}),N=re(e,l.buttonElement),j=r?G({ref:f,type:N,disabled:c||void 0,autoFocus:d,onKeyDown:I,onClick:a},E,A,K):G({ref:f,id:i,type:N,"aria-expanded":l.disclosureState===0,"aria-controls":l.panelElement?l.panelId:void 0,disabled:c||void 0,autoFocus:d,onKeyDown:I,onKeyUp:v,onClick:a},E,A,K);return k()({ourProps:j,theirProps:p,slot:U,defaultTag:me,name:"Disclosure.Button"})}let be="div",Se=V.RenderStrategy|V.Static;function Ie(e,t){let u=s.useId(),{id:i=`headlessui-disclosure-panel-${u}`,transition:c=!1,...d}=e,[p,l]=F("Disclosure.Panel"),{close:n}=L("Disclosure.Panel"),[S,r]=s.useState(null),$=T(t,y(C=>{ae(()=>l({type:5,element:C}))}),r);s.useEffect(()=>(l({type:3,panelId:i}),()=>{l({type:3,panelId:null})}),[i,l]);let f=q(),[I,v]=z(c,S,f!==null?(f&g.Open)===g.Open:p.disclosureState===0),a=h({open:p.disclosureState===0,close:n}),m={ref:$,id:i,...J(v)},E=k();return b.createElement(Y,null,b.createElement(R.Provider,{value:p.panelId},E({ourProps:m,theirProps:d,slot:a,defaultTag:be,features:Se,visible:I,name:"Disclosure.Panel"})))}let ye=x(fe),$e=x(Ee),ve=x(Ie),ge=Object.assign(ye,{Button:$e,Panel:ve});export{ve as L,ge as X,$e as x};

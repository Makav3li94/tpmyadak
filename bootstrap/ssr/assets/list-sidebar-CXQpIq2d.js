import{jsx as e,jsxs as t}from"react/jsx-runtime";import{router as n}from"@inertiajs/react";import{useState as s}from"react";import R from"./MultiRangeSlider-BON0lKoX.js";import i from"./searchFilter-B8iKzvDk.js";import{Disclosure as o,DisclosureButton as m,DisclosurePanel as u}from"@headlessui/react";import{Plus as h,Minus as p}from"lucide-react";function T({brands:w=null,carBrands:y=null,carModels:v=null,categories:S=null,filters:k=null,routeParam:d=null,children:j}){const[f,_]=s(!1),[g,C]=s(!1),[F,D]=s(0),[M,O]=s(99e6),[l,B]=s({brands:[],carBrands:[],carModels:[],categories:[]}),[N,P]=s({}),H=(r,a)=>{D(r),O(a),n.get(route(route().current(),d),{priceMin:r,priceMax:a,staticFilters:l,dynamicFilters:N},{replace:!0,preserveState:!0,preserveScroll:!0})},b=(r,a)=>{B(x=>{const c={...x,[r]:a};return n.get(route(route().current(),d),{priceMin:F,priceMax:M,staticFilters:c,dynamicFilters:N},{replace:!0,preserveState:!0,preserveScroll:!0}),c})},I=(r,a)=>{P(x=>{const c={...x,[r]:a};return n.get(route(route().current(),d),{priceMin:F,priceMax:M,staticFilters:l,dynamicFilters:c},{replace:!0,preserveState:!0,preserveScroll:!0}),c})},z=()=>{_(!f),n.get(route(route().current(),d),{in_stock:!f},{replace:!0,preserveState:!0,preserveScroll:!0})},L=()=>{C(!g),n.get(route(route().current(),d),{has_promotion:!g},{replace:!0,preserveState:!0,preserveScroll:!0})};return e("div",{className:"md:col-span-4 lg:col-span-3 lg:px-0  px-3",children:t("div",{className:"drawer lg:drawer-open flex w-full",children:[e("input",{id:"my-drawer-3",type:"checkbox",className:"drawer-toggle"}),e("div",{className:"drawer-content flex flex-col items-center justify-center",children:e("label",{htmlFor:"my-drawer-3",className:"btn btn-xs btn-error text-base-100 drawer-button lg:hidden fixed right-0 top-1/4 z-1",children:"فیلترها"})}),t("div",{className:"drawer-side h-full w-full",children:[e("label",{htmlFor:"my-drawer-3","aria-label":"close sidebar",className:"drawer-overlay"}),t("div",{className:"border-[1px] border-gray-300 border-t-[#d8330a] rounded-md overflow-hidden",children:[e("div",{className:"bg-[#d8330a] text-base-100 py-3 px-7 font-semibold",children:"فیلترها"}),t("ul",{className:"bg-base-100 py-4",children:[e("li",{children:e("fieldset",{className:"fieldset bg-base-100 border-base-300 rounded-box w-full lg:w-64 border p-4 mb-5",children:t("label",{className:"label flex justify-between items-center",children:[e("input",{type:"checkbox",defaultChecked:!0,className:"toggle",checked:f,onChange:()=>z()}),e("div",{children:"فقط موجود ها"})]})})}),e("li",{children:e("fieldset",{className:"fieldset bg-base-100 border-base-300 rounded-box w-full lg:w-64 border p-4 mb-5",children:t("label",{className:"label flex justify-between items-center",children:[e("input",{type:"checkbox",defaultChecked:!0,className:"toggle",checked:g,onChange:()=>L()}),e("div",{children:"تخفیف دار ها"})]})})}),e("li",{children:t("fieldset",{className:"fieldset bg-base-100 border-base-300 rounded-box w-full lg:w-64 border p-4 mb-5",children:[e("div",{className:"",children:"محدوده قیمت"}),e(R,{min:0,max:99e6,onChange:({min:r,max:a})=>H(r,a)})]})}),w&&e("li",{className:"border-b border-gray-300 mb-2 pb-2",children:t(o,{as:"div",className:"px-4",defaultOpen:!0,children:[e("dt",{children:t(m,{className:"group flex w-full items-start justify-between text-left text-gray-900",children:[e("span",{className:"text-gray-600 text-sm font-medium ",children:"         برند ها"}),t("span",{className:"ml-6 flex h-7 items-center",children:[e(h,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e(p,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e(u,{as:"dd",className:"mt-4 p-0",children:e(i,{groupName:"brands",data:w,selected:l.brands,setSelected:r=>b("brands",r)})})]})},1),y&&e("li",{className:"border-b border-gray-300 mb-2 pb-2",children:t(o,{as:"div",className:"px-4",defaultOpen:!0,children:[e("dt",{children:t(m,{className:"group flex w-full items-start justify-between text-left text-gray-900",children:[e("span",{className:"text-gray-600 text-sm font-medium ",children:" برند خودرو"}),t("span",{className:"ml-6 flex h-7 items-center",children:[e(h,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e(p,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e(u,{as:"dd",className:"mt-4 p-0",children:e(i,{groupName:"carBrands",data:y,selected:l.carBrands,setSelected:r=>b("carBrands",r)})})]})},2),v&&e("li",{className:"border-b border-gray-300 mb-2 pb-2",children:t(o,{as:"div",className:"px-4",defaultOpen:!0,children:[e("dt",{children:t(m,{className:"group flex w-full items-start justify-between text-left text-gray-900",children:[e("span",{className:"text-gray-600 text-sm font-medium ",children:" نوع خودرو"}),t("span",{className:"ml-6 flex h-7 items-center",children:[e(h,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e(p,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e(u,{as:"dd",className:"mt-4 p-0",children:e(i,{groupName:"carModels",data:v,selected:l.carModels,setSelected:r=>b("carModels",r)})})]})},3),S&&e("li",{className:"border-b border-gray-300 mb-2 pb-2",children:t(o,{as:"div",className:"px-4",defaultOpen:!0,children:[e("dt",{children:t(m,{className:"group flex w-full items-start justify-between text-left text-gray-900",children:[e("span",{className:"text-gray-600 text-sm font-medium ",children:" دسته بندی"}),t("span",{className:"ml-6 flex h-7 items-center",children:[e(h,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e(p,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e(u,{as:"dd",className:"mt-4 p-0",children:e(i,{groupName:"categories",data:S,selected:l.categories,setSelected:r=>b("categories",r)})})]})},4),k&&k.map(r=>e("li",{children:t(o,{as:"div",className:"px-4",defaultOpen:!0,children:[e("dt",{children:t(m,{className:"group flex w-full items-start justify-between text-left text-gray-900",children:[e("span",{className:"text-gray-600 text-sm font-medium ",children:r.title}),t("span",{className:"ml-6 flex h-7 items-center",children:[e(h,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e(p,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e(u,{as:"dd",className:"mt-4 p-0",children:e(i,{groupName:r.title,data:r.values.map(a=>({label:a,value:a})),selected:N[r.id]||[],setSelected:a=>I(r.id,a)})})]})},r.id)),j]})]})]})]})})}export{T as default};

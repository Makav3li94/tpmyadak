import{jsx as e,jsxs as r,Fragment as I}from"react/jsx-runtime";import{Link as o,usePage as H}from"@inertiajs/react";import{LockOpen as q,Contact as A,Instagram as D,Linkedin as B,Send as F,MessageCircleMore as $,Twitter as P,Moon as E,Sun as _,Search as L,XIcon as O,ShoppingCart as R,Plus as G,Minus as Q,Menu as z,ChevronLeft as U}from"lucide-react";import{useState as h,useEffect as v,useRef as V}from"react";import{l as S}from"./logo-C8A0auOY.js";import{motion as w}from"motion/react";import{b as W}from"./hooks-CFRBbKAZ.js";import{useCart as X}from"react-use-cart";import"./textarea-input-CXyI_aPO.js";import{B as M}from"./button-s_fcD1op.js";import"sonner";import"dayjs";import{a as f,M as J}from"./megu-menu-CsbLbF7s.js";function he({user:d}){return e("header",{className:"w-full flex justify-center   bg-black text-[#878787]",children:r("div",{className:"container  flex justify-between py-3",children:[e("div",{className:"flex items-center ",children:d===null?r(o,{href:route("login"),title:"enter",className:"enter flex items-center group pr-4 transition-colors duration-400 ease-in",children:[e(q,{className:"w-4 ml-2"}),e("div",{className:"font-light text-sm sm:text-base group-hover:text-[#d8330a] transition duration-400 ease-in",children:"ثبت نام/ورود"})]}):r(o,{href:route("user.dashboard"),title:"enter",className:"enter flex items-center group pr-4 transition-colors duration-400 ease-in",children:[e(A,{className:"w-4 ml-2"}),e("div",{className:"font-light text-sm sm:text-base group-hover:text-[#d8330a] transition duration-400 ease-in",children:d.name})]})}),r("div",{className:"icons hidden sm:block items-center ",children:[e("a",{href:"#",rel:"nofollow noopener",title:"instagram",className:"items-center pl-2",children:e(D,{className:"w-6 h-6 inline-block border border-gray-500 p-0.5 rounded-md hover:fill-[#f7f7f7] hover:bg-[#d8330a] hover:border-[#d8330a] transition duration-300 ease-in"})}),e("a",{href:"#",rel:"nofollow noopener",title:"linkedin",className:"pl-2",children:e(B,{className:"w-6 h-6 inline-block border border-gray-500 p-0.5 rounded-md hover:fill-[#f7f7f7] hover:bg-[#d8330a] hover:border-[#d8330a] transition duration-300 ease-in"})}),e("a",{href:"#",rel:"nofollow noopener",title:"telegram",children:e(F,{className:"w-6 h-6 inline-block border border-gray-500 p-0.5 rounded-md hover:fill-[#f7f7f7] hover:bg-[#d8330a] hover:border-[#d8330a] transition duration-300 ease-in"})}),e("a",{href:"#",rel:"nofollow noopener",title:"whatsapp",className:"pr-2",children:e($,{className:"w-6 h-6 inline-block border border-gray-500 p-0.5 rounded-md hover:fill-[#f7f7f7] hover:bg-[#d8330a] hover:border-[#d8330a] transition duration-300 ease-in"})}),e("a",{href:"#",rel:"nofollow noopener",title:"twitter",className:"pr-2",children:e(P,{className:"w-6 h-6 inline-block border border-gray-500 p-0.5 rounded-md hover:fill-[#f7f7f7] hover:bg-[#d8330a] hover:border-[#d8330a] transition duration-300 ease-in"})})]})]})})}function j(){return e("div",{className:" mr-3",children:r("label",{className:"swap swap-rotate hover:bg-base-200 p-1 rounded-2xl",children:[e("input",{type:"checkbox","data-toggle-theme":"dark,light","data-act-class":"ACTIVECLASS",className:"hidden theme-controller"}),e(E,{className:"swap-off h-5 w-5"}),e(_,{className:"swap-on h-5 w-5"})]})})}const C=({isMobile:d=!1})=>{const[t,l]=h(""),[n,i]=h([]),[c,m]=h(!1),[p,k]=h(!1),[g,u]=h(0),b=()=>{if(t.trim()===""||t!==""&&t.trim().length<2)return i([]),m(!0),!1;axios.post(route("home.product.search",t)).then(a=>{if(m(!1),a.data.data.length===0)return i([]),u(g+1),m(!1),!1;i(a.data.data)}).catch(a=>{console.log(a.stack)}),m(!1)};return v(()=>{k(!0)},[]),v(()=>{const a=setTimeout(()=>{if(m(!0),t==="")return i([]),m(!1),!1;b()},500);return()=>clearTimeout(a)},[t]),e(I,{children:e("div",{className:`${d?"border-1 border-gray-300 group-hover:max-h-64  lg:w-[180%] w-full  absolute top-32 left-0 right-2 translate-x-2 z-50 mt-1  bg-white":"searchForm hidden md:flex md:col-span-5 md:pl-6"}`,children:e("form",{className:"w-full mx-auto",children:r("div",{className:"flex",children:[e("label",{htmlFor:"search-dropdown",className:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white",children:"جست و جو محصول ..."}),r("div",{className:"relative w-full",children:[e("input",{type:"search",className:"block p-2.5 w-full z-20 text-sm text-gray-900 bg-gray-50 rounded  border-s-2 border border-gray-300 focus:ring-gray-300 focus:border-gray-300 dark:bg-gray-700 dark:border-s-gray-700  dark:border-gray-600 dark:placeholder-gray-400",placeholder:" کلمه کلیدی خود را بنویسید...",value:t,required:!0,onChange:a=>l(a.target.value)}),t===""?r("button",{type:"submit",className:"absolute top-0 end-0 p-2.5 text-sm font-medium h-full text-white bg-[#d8330a] rounded-e-lg border border-[#d8330a] focus:ring-4 focus:outline-none focus:ring-gray-300",children:[e(L,{className:"w-5 h-5"}),e("span",{className:"sr-only",children:"Search"})]}):r("button",{type:"submit",className:"absolute top-0 end-0 p-2.5 text-sm font-medium h-full text-white bg-[#d8330a] rounded-e-lg border border-[#d8330a] focus:ring-4 focus:outline-none focus:ring-gray-300",onClick:a=>{a.preventDefault(),l(""),i([]),m(!1)},children:[p&&e(O,{className:"w-5 h-5"}),e("span",{className:"sr-only",children:"Search"})]}),t!==""&&r(w.ul,{style:{overflow:"hidden"},initial:{height:0},animate:{height:"auto"},transition:{duration:.5},exit:{height:0},className:"list bg-base-100 rounded-box shadow-md absolute z-99 w-full",children:[!c&&t!==""&&t.length>3&&n.length===void 0?e("li",{className:"p-4 pb-2 text-xs opacity-60 tracking-wide",hidden:"",children:"نتیجه ای یافت نشد."}):null,n.length>0?n.map((a,y)=>e("li",{className:"list-row",children:e(o,{className:"",target:"_blank",href:route("home.getProduct",a.sku),children:a.title.length>35?`${a.title.substring(0,35)}...`:a.title})},y)):t!==""&&!c&&e("li",{className:"p-4 pb-2 text-xs opacity-60 tracking-wide",hidden:"",children:"نتیجه ای یافت نشد."}),c?e("li",{className:"p-4 pb-2 text-xs opacity-60 tracking-wide",hidden:"",children:"لطفا عبارت کامل وارد کنید ..."}):null]},"container")]})]})})})})},T=({isMobile:d=!1})=>{const[t,l]=h(!1),{totalUniqueItems:n,items:i,updateItemQuantity:c,removeItem:m,cartTotal:p,isEmpty:k}=X(),[g,u]=h(!1),[b,a]=h(0);function y(){let s=i.reduce((x,N)=>x=x+(N.discount===null?0:parseInt(N.discount)*N.quantity),0);a(s)}return v(()=>{t||y(),l(!0)},[t]),r(w.div,{className:"flex border-[1.5px] relative border-gray-300 rounded-md  items-center sm:w-[240px]",onHoverStart:s=>{u(!0)},onTap:s=>{u(!g)},onHoverEnd:s=>{u(!1)},children:[e("div",{className:"btn md:btn-ghost px-2",children:r("div",{className:"indicator ",children:[e("span",{className:"indicator-item badge badge-secondary  -top-2 -right-3",children:n}),e(R,{className:"w-5 h-5 "})]})}),!d&&r(I,{children:[e("span",{className:" tracking-[0.5px] px-3 py-1 border-r text-xs",children:"سبد خرید"}),r("span",{className:"text-[#d8330a] font-bold  pl-2 text-xs",children:[(p-b).toLocaleString("en")," تومان"]})]}),g&&r(w.div,{style:{overflow:"hidden"},initial:{height:0},animate:{height:"auto"},transition:{duration:.5},exit:{height:0},className:"border-1 border-gray-300 group-hover:max-h-64  lg:w-[180%] w-  absolute top-full right-2 translate-x-2 z-50 mt-1  bg-white",children:[i.map((s,x)=>r("div",{className:`flex flex-col items-center text-gray-600 justify-between
                                         pt-3 pb-4 border-b border-gray-300 px-3`,children:[r("div",{className:"flex flex-col lg:flex-row w-full justify-around items-center",children:[e("span",{className:"flex-1 w-full  text-xs text-gray-500 hover:text-[#d8330a] transition duration-300 ease-in  ",children:s.title}),e(o,{href:route("home.getProduct",s.sku),title:"product01",children:e("img",{src:`https://cdn.tpmyadak.com/prothumb/${s.image}`,alt:"محصول انتخابی",className:"w-24 "})})]}),r("div",{className:"flex w-full justify-between items-center",children:[r("span",{className:"text-gray-500 ",children:[s.quantity+" عدد"," "]}),r("span",{className:"text-gray-500    ",children:[parseInt(s.price-s.discount).toLocaleString("en")," تومان"]}),e("div",{className:"",children:r("ul",{className:"action flex items-center list-unstyled justify-center gap-3 ",children:[e("li",{className:"edit",children:e(M,{type:"success",className:"btn-xs",onClick:()=>c(s.id,s.quantity+1),children:e(G,{className:"fs-6_5  align-middle "})})}),e("li",{className:"edit",children:parseInt(s.quantity).toLocaleString("en")}),e("li",{className:"edit",children:e(M,{type:"warning",className:"btn-xs",onClick:N=>c(s.id,s.quantity-1),children:e(Q,{className:"fs-6_5  align-middle "})})})]})})]})]},x)),i.length>0?r("div",{className:"flex justify-between px-3 py-2",children:[r("span",{className:"text-[#d8330a] font-bold py-2",children:["مبلغ کل: ",(p-b).toLocaleString("en")," تومان"]}),e(o,{href:route("home.cart"),className:"btn btn-success text-base-100 hover:text-[#d8330a]",title:"checkout",children:"تکمیل خرید"})]}):r("div",{role:"alert",className:"alert w-64 sm:w-auto",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-info h-6 w-6 shrink-0",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{children:"سبد خرید خالی است."})]})]},"container")]})};function K(){const[d,t]=h(f&&f.length>0?f[0].id:null);return r("div",{className:"rtl flex h-full",children:[e("div",{className:"flex flex-col w-1/3 border-l border-gray-300  p-2 h-full sticky top-0",children:f?.map(l=>e("button",{onClick:()=>t(l.id),className:`px-1 py-2 text-right mb-1 rounded hover:bg-gray-100 break-words ${d===l.id?"bg-base-300 font-semibold":""}`,children:l.title},l.id))}),e("div",{className:"flex-1 p-4 overflow-y-scroll h-screen",children:f?.map(l=>d===l.id&&e("div",{className:"space-y-4",children:Array.isArray(l.children)&&l.children.map(n=>r("ul",{className:"text-sm space-y-1",children:[e("li",{className:"font-bold truncate",children:r(o,{href:`/category/${n.slug}`,className:"flex justify-between items-center  hover:text-[#d8330a] pr-2 truncate",children:[e("div",{className:"truncate",children:n.title}),e(U,{className:"w-3 h-3"})]})}),Array.isArray(n.children)&&n.children.length>0&&n.children.map(i=>e("li",{className:"text-gray-600 hover:text-[#d8330a] text-xs pr-2 truncate",children:e(o,{href:`/category/${i.slug}`,className:"truncate",children:i.title})},i.id))]},n.id))},l.id))})]})}function me(d){const t=V(null),{component:l}=H();v(()=>{t.current&&(t.current.checked=!1)},[l]);const[n,i]=h(!1),c=W();return e("header",{className:" w-full flex justify-center items-center",children:c?e("div",{className:"w-full  bg-base-200 lg:hidden   my-0",children:r("div",{class:"container grid grid-cols-12 py-3 px-4",children:[r("div",{className:"col-span-4 flex items-center px-1 sm:px-0",children:[e(T,{isMobile:c}),e(j,{})]}),e(o,{href:route("home"),className:"col-span-4 flex items-center py-2 justify-center  ",children:e("img",{src:S,alt:"logo",className:"h-8 sm:h-12"})}),r("div",{className:"col-span-4 flex items-center px-1 sm:px-0",children:[e("div",{className:"btn",onClick:()=>i(!n),children:e(L,{className:" h-5 w-5"})}),n&&e(w.div,{style:{overflow:"hidden"},initial:{height:0},animate:{height:"auto"},transition:{duration:.5},exit:{height:0},children:e(C,{isMobile:c})},"container"),e("div",{className:"flex items-center justify-end mr-3",children:r("div",{className:"drawer",children:[e("input",{id:"my-drawer-1",type:"checkbox",className:"drawer-toggle peer",ref:t}),e("div",{className:" drawer-content z-999 transition-all duration-300 peer-checked:absolute peer-checked:-top-20 peer-checked:right-0",children:e("label",{htmlFor:"my-drawer-1",className:"btn drawer-button",children:e(z,{})})}),r("div",{className:"drawer-side",children:[e("label",{htmlFor:"my-drawer-1",className:"drawer-overlay"}),e("ul",{className:"menu bg-base-200 w-full",children:e("div",{className:"py-4 overflow-y-auto ",children:e("ul",{className:"space-y-2 font-medium",children:e("li",{children:e(K,{})})})})})]})]})})]})]})}):e("div",{className:"container",children:r("div",{className:"grid grid-cols-12 py-6 items-center ",children:[r("div",{className:"hidden md:flex md:col-span-4 items-center",children:[e(T,{}),e(j,{})]}),e(C,{}),e(o,{href:route("home"),className:"w-full flex col-span-12 md:col-span-3 h-auto   text-left ",dir:"ltr",children:e("img",{src:S,alt:"logo",className:"h-8 sm:h-11"})})]})})})}function ue(){return r("section",{className:"w-full container justify-center",children:[r("div",{className:" hidden lg:grid grid-cols-12 justify-between  z-0 gap-x-10",children:[e("div",{className:"lg:col-span-3",children:r("div",{className:"font-semibold group/main relative bg-gray-400 text-base-100 rounded-t-md py-3 px-7 flex justify-between cursor-pointer",children:[e("span",{children:"تمامی دسته بندی ها"}),e(z,{size:20}),e("div",{className:"hidden w-full bg-base-100 group-hover/main:block absolute top-full z-30 right-0",children:e(J,{isSingle:!0})})]})}),e("div",{className:"lg:col-span-9 lg:col-start-4",children:r("ul",{className:"flex relative items-center text-center bg-base-100",children:[e("li",{className:"bg-[#d8330a] py-3 rounded-t-md text-white px-4 font-bold ml-2 z-40 group",children:e(o,{href:route("home"),title:"home",children:"خانه"})}),e("li",{className:"bg-white max-w-fit py-3 rounded-t-md text-[#333333] px-5 font-bold ml-2 hover:bg-[#d8330a] hover:text-white transition duration-300 ease-in",children:e(o,{href:route("home.getProducts"),title:"products",children:"محصولات"})}),e("li",{className:"bg-white max-w-fit py-3 rounded-t-md text-[#333333] px-5 font-bold ml-2 hover:bg-[#d8330a] hover:text-white transition duration-300 ease-in",children:e(o,{href:route("home.getBlogs"),title:"blog",children:"بلاگ"})})]})})]}),e("div",{className:"w-full border-b-2 border-[#d8330a]"})]})}export{me as H,he as T,ue as a};

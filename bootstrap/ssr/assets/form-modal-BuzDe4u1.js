import{jsx as a,jsxs as i}from"react/jsx-runtime";import{useEffect as y}from"react";import{useForm as v}from"@inertiajs/react";import{l as S,T as n,a as E}from"./textarea-input-CXyI_aPO.js";import{B as p}from"./button-s_fcD1op.js";import"sonner";import"dayjs";import{M as L}from"./modal-Dg-qeh5M.js";import"lucide-react";function N(u){const{modalState:o,user:m}=u,{data:r,setData:d,post:h,put:f,processing:b,errors:s,reset:g,clearErrors:_}=v({user_id:m.id,name:m.name,postal_code:"",m_code:"",mobile:m.mobile,phone:"",address:""}),t=e=>{d(e.target.name,e.target.type==="checkbox"?e.target.checked?1:0:e.target.value)},x=()=>{o.setData(null),g(),_()},l=()=>{x(),o.toggle()},C=e=>{e.preventDefault();const c=o.data;if(c!==null){f(route("user.addresses.update",c.id),{onSuccess:()=>l()});return}h(route("user.addresses.store"),{onSuccess:()=>l()})};return y(()=>{const e=o.data;S.isEmpty(e)===!1&&d({user_id:e.user_id,name:e.name,postal_code:e.postal_code,m_code:e.m_code,mobile:e.mobile,phone:e.phone,address:e.address})},[o]),a(L,{isOpen:o.isOpen,onClose:l,title:"کاربران",children:i("form",{className:"form-control space-y-2.5",onSubmit:C,children:[a(n,{name:"name",value:r.name,onChange:t,label:"نام و نام خانوادگی",error:s.name}),a(n,{name:"postal_code",value:r.postal_code,onChange:t,label:"کدپستی",error:s.postal_code,maxLength:10}),a(n,{name:"m_code",value:r.m_code,onChange:t,label:"کدملی خریدار",maxLength:10,error:s.m_code}),a(n,{name:"mobile",value:r.mobile,onChange:t,label:"موبایل",maxLength:11,error:s.mobile}),a(n,{name:"phone",value:r.phone,onChange:t,label:"تلفن ثابت",maxLength:11,error:s.phone}),a(E,{name:"address",value:r.address,label:"آدرس",onChange:t,error:s.address}),i("div",{className:"flex items-center space-x-2 mt-4 w-full justify-around",children:[a(p,{processing:b,btnType:"submit",type:"primary",children:"ذخیره"}),a(p,{onClick:l,type:"secondary",children:"انصراف"})]})]})})}export{N as default};

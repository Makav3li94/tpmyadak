import{jsx as e,Fragment as x,jsxs as s}from"react/jsx-runtime";import{useEffect as u}from"react";import{Link as n,router as g,usePage as o}from"@inertiajs/react";import{s as w,B as f}from"./textarea-input-CXyI_aPO.js";import{LayoutDashboard as v,BringToFront as b,SaudiRiyal as y,ListOrdered as k,TicketCheck as j,Megaphone as S,UserPen as T,X as z,LogOut as N,Lightbulb as C,Eye as c,User as L,Menu as U}from"lucide-react";import{Toaster as M}from"sonner";import{a as H}from"./hooks-CFRBbKAZ.js";import{themeChange as P}from"theme-change";import{T as q,H as B,a as O}from"./header-single-C3tOy7O_.js";function _({user:t,show:l,setShow:r}){const i=[{name:"خلاصه فعالیت ‌ها",href:route("user.dashboard"),icon:v,current:!0},{name:"سفارش ها",href:route("user.orders.index"),icon:b,current:!0},{name:"آدرس ها",href:route("user.addresses.index"),icon:b,current:!0},{name:"تراکنش ها",href:route("user.transactions.index"),icon:y,current:!0},{name:"لیست خرید",href:route("user.wishlists.index"),icon:k,current:!0},{name:"تیکت ها",href:route("user.tickets.index"),icon:j,current:!0},{name:"اعلان ها",href:route("user.notifications.index"),icon:S,current:!0}];return e(x,{children:s("div",{className:`${!l&&"hidden"} flex flex-col h-screen overflow-y-auto transition-all
           duration-300 transform sticky top-0 start-0 bottom-0  w-full md:w-64 z-1
            bg-base-100 c-shadow
             lg:end-auto lg:bottom-0 `,children:[e("div",{className:"flex flex-col justify-between flex-1",children:s("div",{className:"",children:[s("div",{className:"flex flex-row justify-between items-center lg:justify-center  p-5 border-b",children:[s("div",{className:"sm:flex  sm:justify-between w-full hidden",children:[e("div",{children:t.name}),e("div",{children:e(n,{href:route("user.profile.edit",t.id),children:e(T,{})})})]}),e("div",{className:"block lg:hidden text-left",onClick:()=>r(),children:e(z,{className:"w-5 h-5"})})]}),e("nav",{className:"w-full",children:s("ul",{className:"w-full menu rounded-box gap-3",children:[i.map(a=>e("li",{children:s(n,{href:a.href,children:[e(a.icon,{"aria-hidden":"true",className:"h-6 w-6 shrink-0"}),a.name]})},a.name)),e("li",{className:"mt-auto",children:s("div",{onClick:()=>g.post(route("logout")),children:[e(N,{className:"h-5 w-5","aria-hidden":"true"}),"خروج"]})})]})})]})}),e("div",{className:"p-6",children:e("p",{className:"text-sm font-light text-center bottom-4 left-4 text-base-content",children:"TPM"})})]})})}function E(){const{props:{notification_count:t,notifications:l}}=o();return s("details",{className:"dropdown dropdown-end p-1 hover:bg-base-100 rounded-md",children:[e("summary",{className:"btn btn-link text-base-content no-underline px-0 my-0",children:s("div",{className:"indicator",children:[e("span",{className:"indicator-item badge badge-sm badge-secondary",children:t}),e("label",{className:"  hover:bg-base-200 p-2 rounded-2xl",children:e(C,{className:" h-5 w-5"})})]})}),e("ul",{className:"list  mt-2 menu dropdown-content z-1 bg-base-100  shadow rounded-box w-94   ",children:t===0?e("li",{className:"list-row items-center",children:"اعلانی ندارید :("}):l.map((r,i)=>s("li",{className:"list-row items-center",children:[e("div",{className:"text-4xl font-thin opacity-30 tabular-nums",children:++i}),e("div",{className:"list-col-grow",children:r.data.message}),r.data.type==="order"&&e(n,{href:route("admin.orders.show",r.data.type_id),className:"btn btn-square btn-ghost",children:e(c,{className:"size-[1.2em]"})}),r.data.type==="register"&&e(n,{href:route("admin.users.edit",r.data.type_id),className:"btn btn-square btn-ghost",children:e(c,{className:"size-[1.2em]"})}),r.data.type==="tx"&&e(n,{href:route("admin.transactions.index"),className:"btn btn-square btn-ghost",children:e(c,{className:"size-[1.2em]"})})]}))})]})}function F(){const{props:{auth:t}}=o();return s("details",{className:"dropdown dropdown-end p-1 hover:bg-base-100 rounded-md",children:[e("summary",{className:"btn btn-link text-base-content no-underline px-0 my-0",children:e("div",{className:"flex flex-row gap-2",children:s("div",{className:"flex flex-col text-left",children:[e("div",{className:"text-sm",children:t.user.name}),e(n,{href:route("user.profile.edit",t.user.id),className:"text-sm font-light",children:"پروفایل"})]})})}),s("ul",{className:"mt-2 menu dropdown-content z-1 bg-base-100  shadow rounded-box w-52",children:[e("li",{children:s(n,{href:route("admin.profile.edit"),as:"button",className:"btn btn-sm btn-block btn-ghost justify-start",children:[e(L,{className:"w-4 h-4"}),"پروفایل من"]})}),e("li",{children:s(n,{href:route("admin.logout"),method:"post",as:"button",className:"btn btn-sm btn-block btn-error btn-ghost justify-start",children:[e(N,{className:"w-4 h-4"}),"خروج"]})})]})]})}function Q({children:t,title:l="",breadcumbs:r=[]}){const{props:{auth:i,flash:a}}=o(),{isShowSidebar:d,toggleSidebar:m}=H(!0);return u(()=>{a.message!==null&&w(a.message.message,a.message.type)},[a]),u(()=>{P(!1)},[]),console.log(d),s("div",{className:"min-h-screen flex flex-col sm:justify-center items-center w-full",children:[e(q,{user:i.user}),e(B,{}),e(O,{}),s("div",{class:"container mx-auto relative my-5",children:[s("main",{className:`transition ${d?"lg:mr-64":"ml-0 "}`,children:[e("nav",{className:"bg-base-100 c-shadow sm:hidden",children:e("div",{className:"mx-auto px-4 py-2",children:s("div",{className:"flex justify-between",children:[e("div",{className:"-mr-2 flex items-center space-x-2",children:e("button",{onClick:()=>m(),className:"inline-flex items-center justify-center lg:hidden  p-2 rounded-md text-base-content focus:outline-hidden transition duration-150 ease-in-out btn btn-ghost",children:e(U,{className:"h-5 w-5"})})}),s("div",{className:"flex flex-row items-center gap-3",children:[e("div",{className:"h-full flex items-center",children:e(E,{})}),e("div",{className:"h-full flex items-center",children:e(F,{})})]})]})})}),s("div",{className:"p-6",children:[s("div",{className:"flex flex-row justify-between items-center",children:[e(f,{children:r.map((h,p)=>e(f.Item,{r:h.href,children:h.name},p))}),e("h3",{className:"text-lg font-medium",children:l})]}),e("div",{className:"mt-6",children:t})]}),e("div",{className:"mb-4"})]}),e(_,{user:i.user,show:d,setShow:m}),e(M,{theme:"system",richColors:"true",toastOptions:{duration:3e3,dismissible:!0}})]})]})}export{Q as U};

import{jsx as e,jsxs as a}from"react/jsx-runtime";import{router as i}from"@inertiajs/react";import{useState as l}from"react";import L from"./MultiRangeSlider-BON0lKoX.js";import o from"./searchFilter-B8iKzvDk.js";import{Disclosure as m,DisclosureButton as u,DisclosurePanel as h}from"@headlessui/react";import{Plus as p,Minus as b}from"lucide-react";function U({brands:w=null,carBrands:v=null,carModels:y=null,categories:S=null,filters:k=null,routeParam:s=null,children:M}){const[N,j]=l(!1),[g,_]=l(!1),[D,P]=l(0),[O,B]=l(99e6),[d,H]=l({brands:[],carBrands:[],carModels:[],categories:[]}),[F,I]=l({}),n=(r={})=>({priceMin:D,priceMax:O,staticFilters:d,dynamicFilters:F,in_stock:N,has_promotion:g,...r}),C=(r,t)=>{P(r),B(t),i.get(route(route().current(),s),n({priceMin:r,priceMax:t}),{replace:!0,preserveState:!0,preserveScroll:!0})},f=(r,t)=>{H(x=>{const c={...x,[r]:t};return i.get(route(route().current(),s),n({staticFilters:c}),{replace:!0,preserveState:!0,preserveScroll:!0}),c})},z=(r,t)=>{I(x=>{const c={...x,[r]:t};return i.get(route(route().current(),s),n({dynamicFilters:c}),{replace:!0,preserveState:!0,preserveScroll:!0}),c})};return e("div",{className:"md:col-span-4 lg:col-span-3 lg:px-0 px-3",children:a("div",{className:"drawer lg:drawer-open flex w-full",children:[e("input",{id:"my-drawer-3",type:"checkbox",className:"drawer-toggle"}),e("div",{className:"drawer-content flex flex-col items-center justify-center",children:e("label",{htmlFor:"my-drawer-3",className:"btn btn-xs btn-error text-base-100 drawer-button lg:hidden fixed right-0 top-3/8 z-1",children:"فیلترها"})}),a("div",{className:"drawer-side h-full w-full",children:[e("label",{htmlFor:"my-drawer-3","aria-label":"close sidebar",className:"drawer-overlay"}),a("div",{className:"border-[1px] border-gray-300 border-t-[#d8330a] rounded-md overflow-hidden",children:[e("div",{className:"bg-[#d8330a] text-base-100 py-3 px-7 font-semibold",children:"فیلترها"}),a("ul",{className:"bg-base-100 py-4",children:[e("li",{children:e("fieldset",{className:"fieldset bg-base-100 border-base-300 rounded-box w-full lg:w-64 border p-4 mb-5",children:a("label",{className:"label flex justify-between items-center",children:[e("input",{type:"checkbox",className:"toggle",checked:N,onChange:()=>{const r=!N;j(r),i.get(route(route().current(),s),n({in_stock:r}),{replace:!0,preserveState:!0,preserveScroll:!0})}}),e("div",{children:"فقط موجود ها"})]})})}),e("li",{children:e("fieldset",{className:"fieldset bg-base-100 border-base-300 rounded-box w-full lg:w-64 border p-4 mb-5",children:a("label",{className:"label flex justify-between items-center",children:[e("input",{type:"checkbox",className:"toggle",checked:g,onChange:()=>{const r=!g;_(r),i.get(route(route().current(),s),n({has_promotion:r}),{replace:!0,preserveState:!0,preserveScroll:!0})}}),e("div",{children:"تخفیف دار ها"})]})})}),e("li",{children:a("fieldset",{className:"fieldset bg-base-100 border-base-300 rounded-box w-full lg:w-64 border p-4 mb-5",children:[e("div",{children:"محدوده قیمت"}),e(L,{min:0,max:99e6,onChange:({min:r,max:t})=>C(r,t)})]})}),w&&e("li",{className:"border-b border-gray-300 mb-2 pb-2",children:a(m,{as:"div",className:"px-4",defaultOpen:!0,children:[e("dt",{children:a(u,{className:"group flex w-full items-start justify-between text-left",children:[e("span",{className:"text-sm font-medium",children:"برند ها"}),a("span",{className:"ml-6 flex h-7 items-center",children:[e(p,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e(b,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e(h,{as:"dd",className:"mt-4 p-0",children:e(o,{groupName:"brands",data:w,selected:d.brands,setSelected:r=>f("brands",r)})})]})}),v&&e("li",{className:"border-b border-gray-300 mb-2 pb-2",children:a(m,{as:"div",className:"px-4",defaultOpen:!0,children:[e("dt",{children:a(u,{className:"group flex w-full items-start justify-between text-left",children:[e("span",{className:"text-sm font-medium",children:"برند خودرو"}),a("span",{className:"ml-6 flex h-7 items-center",children:[e(p,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e(b,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e(h,{as:"dd",className:"mt-4 p-0",children:e(o,{groupName:"carBrands",data:v,selected:d.carBrands,setSelected:r=>f("carBrands",r)})})]})}),y&&e("li",{className:"border-b border-gray-300 mb-2 pb-2",children:a(m,{as:"div",className:"px-4",defaultOpen:!0,children:[e("dt",{children:a(u,{className:"group flex w-full items-start justify-between text-left",children:[e("span",{className:"text-sm font-medium",children:"نوع خودرو"}),a("span",{className:"ml-6 flex h-7 items-center",children:[e(p,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e(b,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e(h,{as:"dd",className:"mt-4 p-0",children:e(o,{groupName:"carModels",data:y,selected:d.carModels,setSelected:r=>f("carModels",r)})})]})}),S&&e("li",{className:"border-b border-gray-300 mb-2 pb-2",children:a(m,{as:"div",className:"px-4",defaultOpen:!0,children:[e("dt",{children:a(u,{className:"group flex w-full items-start justify-between text-left",children:[e("span",{className:"text-sm font-medium",children:"دسته بندی"}),a("span",{className:"ml-6 flex h-7 items-center",children:[e(p,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e(b,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e(h,{as:"dd",className:"mt-4 p-0",children:e(o,{groupName:"categories",data:S,selected:d.categories,setSelected:r=>f("categories",r)})})]})}),k&&k.map(r=>e("li",{children:a(m,{as:"div",className:"px-4",defaultOpen:!0,children:[e("dt",{children:a(u,{className:"group flex w-full items-start justify-between text-left",children:[e("span",{className:"text-sm font-medium",children:r.title}),a("span",{className:"ml-6 flex h-7 items-center",children:[e(p,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e(b,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e(h,{as:"dd",className:"mt-4 p-0",children:e(o,{groupName:r.title,data:r.values.map(t=>({label:t,value:t})),selected:F[r.id]||[],setSelected:t=>z(r.id,t)})})]})},r.id)),M]})]})]})]})})}export{U as default};

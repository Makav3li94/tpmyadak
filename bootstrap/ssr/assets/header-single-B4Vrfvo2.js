import{jsx as e,jsxs as a,Fragment as L}from"react/jsx-runtime";import{Link as c,usePage as q}from"@inertiajs/react";import{LockOpen as A,Contact as B,Instagram as D,Linkedin as $,Send as F,MessageCircleMore as E,Twitter as P,Moon as _,Sun as O,Search as z,XIcon as R,ShoppingCart as G,Plus as Q,Minus as U,Menu as H,ChevronLeft as u}from"lucide-react";import{useState as h,useEffect as w,useRef as V}from"react";import{l as S}from"./logo-C8A0auOY.js";import{motion as y}from"motion/react";import{b as W}from"./hooks-CFRBbKAZ.js";import{useCart as X}from"react-use-cart";import"./textarea-input-CS_jPfHL.js";import{B as M}from"./button-s_fcD1op.js";import"sonner";import"dayjs";import{a as p,M as J,T as K}from"./top-nav-CDt_ObKp.js";function me({user:o}){return e("header",{className:"w-full flex justify-center   bg-black text-[#878787]",children:a("div",{className:"container  flex justify-between py-3",children:[e("div",{className:"flex items-center ",children:o===null?a(c,{href:route("login"),title:"enter",className:"enter flex items-center group pr-4 transition-colors duration-400 ease-in",children:[e(A,{className:"w-4 ml-2"}),e("div",{className:"font-light text-sm sm:text-base group-hover:text-[#d8330a] transition duration-400 ease-in",children:"ثبت نام/ورود"})]}):a(c,{href:route("user.dashboard"),title:"enter",className:"enter flex items-center group pr-4 transition-colors duration-400 ease-in",children:[e(B,{className:"w-4 ml-2"}),e("div",{className:"font-light text-sm sm:text-base group-hover:text-[#d8330a] transition duration-400 ease-in",children:o.name})]})}),a("div",{className:"icons hidden sm:block items-center ",children:[e("a",{href:"#",rel:"nofollow noopener",title:"instagram",className:"items-center pl-2",children:e(D,{className:"w-6 h-6 inline-block border border-gray-500 p-0.5 rounded-md hover:fill-[#f7f7f7] hover:bg-[#d8330a] hover:border-[#d8330a] transition duration-300 ease-in"})}),e("a",{href:"#",rel:"nofollow noopener",title:"linkedin",className:"pl-2",children:e($,{className:"w-6 h-6 inline-block border border-gray-500 p-0.5 rounded-md hover:fill-[#f7f7f7] hover:bg-[#d8330a] hover:border-[#d8330a] transition duration-300 ease-in"})}),e("a",{href:"#",rel:"nofollow noopener",title:"telegram",children:e(F,{className:"w-6 h-6 inline-block border border-gray-500 p-0.5 rounded-md hover:fill-[#f7f7f7] hover:bg-[#d8330a] hover:border-[#d8330a] transition duration-300 ease-in"})}),e("a",{href:"#",rel:"nofollow noopener",title:"whatsapp",className:"pr-2",children:e(E,{className:"w-6 h-6 inline-block border border-gray-500 p-0.5 rounded-md hover:fill-[#f7f7f7] hover:bg-[#d8330a] hover:border-[#d8330a] transition duration-300 ease-in"})}),e("a",{href:"#",rel:"nofollow noopener",title:"twitter",className:"pr-2",children:e(P,{className:"w-6 h-6 inline-block border border-gray-500 p-0.5 rounded-md hover:fill-[#f7f7f7] hover:bg-[#d8330a] hover:border-[#d8330a] transition duration-300 ease-in"})})]})]})})}function C(){return e("div",{className:" mr-3",children:a("label",{className:"swap swap-rotate hover:bg-base-200 p-1 rounded-2xl",children:[e("input",{type:"checkbox","data-toggle-theme":"dark,light","data-act-class":"ACTIVECLASS",className:"hidden theme-controller"}),e(_,{className:"swap-off h-5 w-5"}),e(O,{className:"swap-on h-5 w-5"})]})})}const T=({isMobile:o=!1})=>{const[t,l]=h(""),[n,i]=h([]),[d,m]=h(!1),[g,j]=h(!1),[b,f]=h(0),N=()=>{if(t.trim()===""||t!==""&&t.trim().length<2)return i([]),m(!0),!1;axios.post(route("home.product.search",t)).then(r=>{if(m(!1),r.data.data.length===0)return i([]),f(b+1),m(!1),!1;i(r.data.data)}).catch(r=>{console.log(r.stack)}),m(!1)};return w(()=>{j(!0)},[]),w(()=>{const r=setTimeout(()=>{if(m(!0),t==="")return i([]),m(!1),!1;N()},500);return()=>clearTimeout(r)},[t]),e(L,{children:e("div",{className:`${o?"border-1 border-gray-300 group-hover:max-h-64  lg:w-[180%] w-full  absolute top-32 left-0 right-2 translate-x-2 z-50 mt-1  bg-white":"searchForm hidden md:flex md:col-span-5 md:pl-6"}`,children:e("form",{className:"w-full mx-auto",children:a("div",{className:"flex",children:[e("label",{htmlFor:"search-dropdown",className:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white",children:"جست و جو محصول ..."}),a("div",{className:"relative w-full",children:[e("input",{type:"search",className:"block p-2.5 w-full z-20 text-sm text-gray-900 bg-gray-50 rounded  border-s-2 border border-gray-300 focus:ring-gray-300 focus:border-gray-300 dark:bg-gray-700 dark:border-s-gray-700  dark:border-gray-600 dark:placeholder-gray-400",placeholder:" کلمه کلیدی خود را بنویسید...",value:t,required:!0,onChange:r=>l(r.target.value)}),t===""?a("button",{type:"submit",className:"absolute top-0 end-0 p-2.5 text-sm font-medium h-full text-white bg-[#d8330a] rounded-e-lg border border-[#d8330a] focus:ring-4 focus:outline-none focus:ring-gray-300",children:[e(z,{className:"w-5 h-5"}),e("span",{className:"sr-only",children:"Search"})]}):a("button",{type:"submit",className:"absolute top-0 end-0 p-2.5 text-sm font-medium h-full text-white bg-[#d8330a] rounded-e-lg border border-[#d8330a] focus:ring-4 focus:outline-none focus:ring-gray-300",onClick:r=>{r.preventDefault(),l(""),i([]),m(!1)},children:[g&&e(R,{className:"w-5 h-5"}),e("span",{className:"sr-only",children:"Search"})]}),t!==""&&a(y.ul,{style:{overflow:"hidden"},initial:{height:0},animate:{height:"auto"},transition:{duration:.5},exit:{height:0},className:"list bg-base-100 rounded-box shadow-md absolute z-99 w-full",children:[!d&&t!==""&&t.length>3&&n.length===void 0?e("li",{className:"p-4 pb-2 text-xs opacity-60 tracking-wide",hidden:"",children:"نتیجه ای یافت نشد."}):null,n.length>0?n.map((r,k)=>e("li",{className:"list-row",children:e(c,{className:"",target:"_blank",href:route("home.getProduct",r.sku),children:r.title.length>35?`${r.title.substring(0,35)}...`:r.title})},k)):t!==""&&!d&&e("li",{className:"p-4 pb-2 text-xs opacity-60 tracking-wide",hidden:"",children:"نتیجه ای یافت نشد."}),d?e("li",{className:"p-4 pb-2 text-xs opacity-60 tracking-wide",hidden:"",children:"لطفا عبارت کامل وارد کنید ..."}):null]},"container")]})]})})})})},I=({isMobile:o=!1})=>{const[t,l]=h(!1),{totalUniqueItems:n,items:i,updateItemQuantity:d,removeItem:m,cartTotal:g,isEmpty:j}=X(),[b,f]=h(!1),[N,r]=h(0);function k(){let s=i.reduce((x,v)=>x=x+(v.discount===null?0:parseInt(v.discount)*v.quantity),0);r(s)}return w(()=>{t||k(),l(!0)},[t]),a(y.div,{className:"flex border-[1.5px] relative border-gray-300 rounded-md  items-center sm:w-[240px]",onHoverStart:s=>{f(!0)},onTap:s=>{f(!b)},onHoverEnd:s=>{f(!1)},children:[e("div",{className:"btn md:btn-ghost px-2",children:a("div",{className:"indicator ",children:[e("span",{className:"indicator-item badge badge-secondary  -top-2 -right-3",children:n}),e(G,{className:"w-5 h-5 "})]})}),!o&&a(L,{children:[e("span",{className:" tracking-[0.5px] px-3 py-1 border-r text-xs",children:"سبد خرید"}),a("span",{className:"text-[#d8330a] font-bold  pl-2 text-xs",children:[(g-N).toLocaleString("en")," تومان"]})]}),b&&a(y.div,{style:{overflow:"hidden"},initial:{height:0},animate:{height:"auto"},transition:{duration:.5},exit:{height:0},className:"border-1 border-gray-300 group-hover:max-h-64  lg:w-[180%] w-72  absolute top-full right-2 translate-x-2 z-50 mt-1  bg-white",children:[i.map((s,x)=>a("div",{className:`flex flex-col items-center text-gray-600 justify-between
                                         pt-3 pb-4 border-b border-gray-300 px-3`,children:[a("div",{className:"flex flex-col lg:flex-row w-full justify-around items-center",children:[e("span",{className:"flex-1 w-full  text-xs text-gray-500 hover:text-[#d8330a] transition duration-300 ease-in  ",children:s.title}),e(c,{href:route("home.getProduct",s.sku),title:"product01",children:e("img",{src:`https://cdn.tpmyadak.com/prothumb/${s.image}`,alt:"محصول انتخابی",className:"w-24 "})})]}),a("div",{className:"flex w-full justify-between items-center",children:[a("span",{className:"text-gray-500 ",children:[s.quantity," ",e("small",{className:"sm:inline-block hid",children:"عدد"})," "]}),a("span",{className:"text-gray-500    ",children:[parseInt(s.price-s.discount).toLocaleString("en")," تومان"]}),e("div",{className:"",children:a("ul",{className:"action flex items-center list-unstyled justify-center gap-3 ",children:[e("li",{className:"edit",children:e(M,{type:"success",className:"btn-xs",onClick:()=>d(s.id,s.quantity+1),children:e(Q,{className:"fs-6_5  align-middle "})})}),e("li",{className:"edit",children:parseInt(s.quantity).toLocaleString("en")}),e("li",{className:"edit",children:e(M,{type:"warning",className:"btn-xs",onClick:v=>d(s.id,s.quantity-1),children:e(U,{className:"fs-6_5  align-middle "})})})]})})]})]},x)),i.length>0?a("div",{className:"flex justify-between px-3 py-2",children:[a("span",{className:"text-[#d8330a] font-bold py-2",children:["مبلغ کل: ",(g-N).toLocaleString("en")," تومان"]}),e(c,{href:route("home.cart"),className:"btn btn-success text-base-100 hover:text-[#d8330a]",title:"checkout",children:"تکمیل خرید"})]}):a("div",{role:"alert",className:"alert w-64 sm:w-auto",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-info h-6 w-6 shrink-0",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{children:"سبد خرید خالی است."})]})]},"container")]})};function Y(){const[o,t]=h(p&&p.length>0?p[0].id:null);return a("div",{className:"rtl flex h-full",children:[a("div",{className:"flex flex-col w-1/3 border-l border-gray-300  p-2 h-full sticky top-0",children:[e("button",{onClick:()=>t(99999),className:`px-1 py-2 text-right mb-1 rounded hover:bg-gray-100 break-words ${o===99999?"bg-base-300 font-semibold":""}`,children:"منو"},99999),p?.map(l=>e("button",{onClick:()=>t(l.id),className:`px-1 py-2 text-right mb-1 rounded hover:bg-gray-100 break-words ${o===l.id?"bg-base-300 font-semibold":""}`,children:l.title},l.id))]}),a("div",{className:"flex-1 p-4 overflow-y-scroll h-screen",children:[o===99999&&e("div",{className:"space-y-4",children:a("ul",{className:"text-sm space-y-1",children:[e("li",{className:"font-bold truncate",children:a(c,{href:route("home"),className:"flex justify-between items-center  hover:text-[#d8330a] pr-2 truncate",title:"home",children:[e("div",{className:"truncate",children:"خانه"}),e(u,{className:"w-3 h-3"})]})}),e("li",{className:"font-bold truncate",children:a(c,{href:route("home.getBlogs"),className:"flex justify-between items-center  hover:text-[#d8330a] pr-2 truncate",title:"getBlogs",children:[e("div",{className:"truncate",children:"بلاگ"}),e(u,{className:"w-3 h-3"})]})}),e("li",{className:"font-bold truncate",children:a(c,{href:route("home.about"),className:"flex justify-between items-center  hover:text-[#d8330a] pr-2 truncate",title:"home",children:[e("div",{className:"truncate",children:" درباره ما"}),e(u,{className:"w-3 h-3"})]})}),e("li",{className:"font-bold truncate",children:a(c,{href:route("home.contact"),className:"flex justify-between items-center  hover:text-[#d8330a] pr-2 truncate",title:"home",children:[e("div",{className:"truncate",children:"تماس با ما"}),e(u,{className:"w-3 h-3"})]})}),e("li",{className:"font-bold truncate",children:a(c,{href:route("home.faq"),className:"flex justify-between items-center  hover:text-[#d8330a] pr-2 truncate",title:"home",children:[e("div",{className:"truncate",children:"سوالات متداول"}),e(u,{className:"w-3 h-3"})]})})]},999999)},99999),p?.map(l=>o===l.id&&e("div",{className:"space-y-4",children:Array.isArray(l.children)&&l.children.map(n=>a("ul",{className:"text-sm space-y-1",children:[e("li",{className:"font-bold truncate",children:a(c,{href:`/category/${n.slug}`,className:"flex justify-between items-center  hover:text-[#d8330a] pr-2 truncate",children:[e("div",{className:"truncate",children:n.title}),e(u,{className:"w-3 h-3"})]})}),Array.isArray(n.children)&&n.children.length>0&&n.children.map(i=>e("li",{className:"text-gray-600 hover:text-[#d8330a] text-xs pr-2 truncate",children:e(c,{href:`/category/${i.slug}`,className:"truncate",children:i.title})},i.id))]},n.id))},l.id))]})]})}function ue(o){const t=V(null),{component:l}=q();w(()=>{t.current&&(t.current.checked=!1)},[l]);const[n,i]=h(!1),d=W();return e("header",{className:" w-full flex justify-center items-center",children:d?e("div",{className:"w-full  bg-base-200 lg:hidden   my-0",children:a("div",{class:"container grid grid-cols-12 py-3 px-4",children:[a("div",{className:"col-span-4 flex items-center px-1 sm:px-0",children:[e(I,{isMobile:d}),e(C,{})]}),e(c,{href:route("home"),className:"col-span-4 flex items-center py-2 justify-center  ",children:e("img",{src:S,alt:"logo",className:"h-8 sm:h-12"})}),a("div",{className:"col-span-4 flex items-center px-1 sm:px-0",children:[e("div",{className:"btn",onClick:()=>i(!n),children:e(z,{className:" h-5 w-5"})}),n&&e(y.div,{style:{overflow:"hidden"},initial:{height:0},animate:{height:"auto"},transition:{duration:.5},exit:{height:0},children:e(T,{isMobile:d})},"container"),e("div",{className:"flex items-center justify-end mr-3",children:a("div",{className:"drawer",children:[e("input",{id:"my-drawer-1",type:"checkbox",className:"drawer-toggle peer",ref:t}),e("div",{className:" drawer-content z-999 transition-all duration-300 peer-checked:absolute peer-checked:-top-20 peer-checked:right-0",children:e("label",{htmlFor:"my-drawer-1",className:"btn drawer-button",children:e(H,{})})}),a("div",{className:"drawer-side",children:[e("label",{htmlFor:"my-drawer-1",className:"drawer-overlay"}),e("ul",{className:"menu bg-base-200 w-full",children:e("div",{className:"py-4 overflow-y-auto ",children:e("ul",{className:"space-y-2 font-medium",children:e("li",{children:e(Y,{})})})})})]})]})})]})]})}):e("div",{className:"container",children:a("div",{className:"grid grid-cols-12 py-6 items-center ",children:[a("div",{className:"hidden md:flex md:col-span-4 items-center",children:[e(I,{}),e(C,{})]}),e(T,{}),e(c,{href:route("home"),className:"w-full flex col-span-12 md:col-span-3 h-auto   text-left ",dir:"ltr",children:e("img",{src:S,alt:"logo",className:"h-8 sm:h-11"})})]})})})}function fe(){return a("section",{className:"w-full container justify-center",children:[a("div",{className:" hidden lg:grid grid-cols-12 justify-between  z-0 gap-x-10",children:[e("div",{className:"lg:col-span-3",children:a("div",{className:"font-semibold group/main relative bg-gray-400 text-base-100 rounded-t-md py-3 px-7 flex justify-between cursor-pointer",children:[e("span",{children:"تمامی دسته بندی ها"}),e(H,{size:20}),e("div",{className:"hidden w-full bg-base-100 group-hover/main:block absolute top-full z-30 right-0",children:e(J,{isSingle:!0})})]})}),e("div",{className:"lg:col-span-9 lg:col-start-4",children:e(K,{})})]}),e("div",{className:"w-full border-b-2 border-[#d8330a]"})]})}export{ue as H,me as T,fe as a};

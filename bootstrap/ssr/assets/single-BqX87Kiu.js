import{jsxs as a,Fragment as p,jsx as e}from"react/jsx-runtime";import{F}from"./front-layout-Bq-36bXZ.js";import{Head as L,router as R}from"@inertiajs/react";import{useCart as A}from"react-use-cart";import{s as v}from"./textarea-input-CXyI_aPO.js";import{B as H}from"./breadcrumb-BjIIdQz3.js";import{Star as n,SquareCheckBig as P,Heart as Z,ShoppingCart as D}from"lucide-react";import E from"./related-products-Cq26dB0L.js";import{R as W,a as q}from"./review-form-Cc58hxBY.js";import k from"embla-carousel-react";import{useState as u,useCallback as _,useEffect as $}from"react";import{B as J}from"./badge-DHrEAO1i.js";import"./hooks-CFRBbKAZ.js";import"theme-change";import"./header-single-C3tOy7O_.js";import"./logo-C8A0auOY.js";import"motion/react";import"./button-s_fcD1op.js";import"sonner";import"dayjs";import"./megu-menu-N_rMxthN.js";import"./feature-QeK4Uxmd.js";import"./product-card-0UCUN5ag.js";import"./card-BmfKSUuz.js";const K=t=>{const{selected:c,index:o,onClick:d,img:g,ali:m}=t;return e("div",{className:"pembla-thumbs__slide".concat(c?" pembla-thumbs__slide--selected":""),children:e("button",{onClick:d,type:"button",className:"btn p-0",children:e("img",{src:g,alt:m,onClick:d,width:"75",height:75,loading:o===0?"eager":"lazy"})})},o)};function O({product:t,attributeGroups:c=[],relatedProducts:o,reviews:d,canReview:g,images:m}){const{addItem:S}=A(),[j,f]=u(0),[x,y]=u(!1),[C,T]=u(""),[I,i]=k({direction:"rtl"}),[M,r]=k({direction:"rtl",containScroll:"keepSnaps",dragFree:!0}),z=_(l=>{!i||!r||i.scrollTo(l)},[i,r]),h=_(()=>{!i||!r||(f(i.selectedScrollSnap()),r.scrollTo(i.selectedScrollSnap()))},[i,r,f]);$(()=>{i&&(h(),i.on("select",h).on("reInit",h))},[i,h]);const B=(l,s)=>{l.preventDefault(),T(s),y(!0)},N=l=>{S({id:l.id,sku:l.sku,title:l.title,excerpt:l.excerpt,discount:l.discount,image:l.image,price:l.price,stock:l.stock}),v("محصول به سبد خرید اضافه شد","success")},w=l=>{R.post(route("user.wishlists.store"),{item:l},{forceFormData:!0,onSuccess:()=>v("محصول به لیست خرید اضافه شد","success")})};return a(p,{children:[e(L,{title:t.title}),e(H,{l1:["محصولات","home.getProducts"],l2:[t.title,"home.getProduct",t.sku]}),a("section",{className:"relative container",children:[e("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-0",children:a("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16 mx-auto max-md:px-2 ",children:[a("div",{className:"pembla",children:[e("div",{className:"pembla__viewport",ref:I,children:e("div",{className:"pembla__container",children:m.map((l,s)=>e("div",{className:"pembla__slide",children:a("picture",{className:"d-flex align-items-center  cursor-pointer",children:[e("source",{srcSet:l.thumbnail,media:"(max-width:580px)",type:"image/webp"}),e("source",{srcSet:l.original,media:"(min-width:581px)",type:"image/webp"}),e("source",{srcSet:l.main,media:"(min-width:800px)",type:"image/webp"}),e("source",{srcSet:l.fullscreen,media:"(min-width:1401px)",type:"image/jpg"}),e("img",{src:l.fullscreen,alt:t.title,width:510,height:510,className:"card-pr-img-top  mx-auto articleShakes",onClick:b=>B(b,isMobile?l.main:l.fullscreen),loading:s===0?"eager":"lazy"})]})},s))})}),e("div",{className:"pembla-thumbs",children:e("div",{className:"pembla-thumbs__viewport",ref:M,children:e("div",{className:"pembla-thumbs__container justify-center gap-3",children:m.map((l,s)=>e(K,{onClick:()=>z(s),selected:s===j,index:s,img:l.thumbnailxs,ali:t.title},s))})})})]}),x&&e("div",{id:"myModal",className:`myModal ${x&&"d-block"}`,onClick:()=>y(!1),children:e("img",{src:C,alt:"zoomed",className:"myModal-content"})}),e("div",{className:"data w-full lg:pr-8 pr-0 xl:justify-start justify-center flex items-center max-lg:pb-10 xl:my-2 lg:my-5 my-0",children:a("div",{className:"data w-full max-w-xl",children:[e("h2",{className:"font-manrope font-bold text-3xl leading-10 text-gray-900 mb-2 capitalize",children:t.title}),a("div",{className:"flex flex-col sm:flex-row sm:items-center mb-6",children:[e("h6",{className:"font-manrope font-semibold text-2xl leading-9 text-gray-900 pr-5 sm:border-r border-gray-200 ml-5",children:parseInt(t.price)!==0?a(p,{children:[parseInt(t.price).toLocaleString("en")," میلیون"]}):e(J,{type:"primary",outline:!0,children:"ناموجود"})}),a("div",{className:"flex items-center gap-2",children:[a("div",{className:"flex items-center gap-1",children:[e(n,{className:"w-6 h-6 lg:w-4 lg:h-4 text-yellow-500"}),e(n,{className:"w-6 h-6 lg:w-4 lg:h-4 text-yellow-500"}),e(n,{className:"w-6 h-6 lg:w-4 lg:h-4 text-yellow-500"}),e(n,{className:"w-6 h-6 lg:w-4 lg:h-4 text-yellow-500"}),e(n,{className:"w-6 h-6 lg:w-4 lg:h-4 text-gray-500"})]}),e("span",{className:"pl-2 font-normal leading-7 text-gray-500 text-sm ",children:"1624 نظر"})]})]}),e("p",{className:"text-gray-500 text-base font-normal mb-5",children:t.excerpt}),a("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 py-5",children:[e("div",{className:"",children:a("ul",{className:"list  gap-y-1 ",children:[a("li",{className:"list-row flex justify-between items-center",children:[e("div",{className:"w-32",children:e("strong",{children:"برند:"})}),e("div",{children:t.brand.title})]}),t.filters.map((l,s)=>a("li",{className:"list-row flex justify-between items-center",children:[e("div",{className:"w-32",children:a("strong",{children:[l.title,":"]})}),e("div",{children:l.pivot.value})]},s))]})}),e("div",{className:" ",children:e("ul",{className:"list  gap-y-1 ",children:c.length>0&&c.map((l,s)=>a("li",{className:"list-row flex justify-between items-center",children:[e("div",{className:"w-32",children:a("strong",{children:[l.group_title,":"]})}),e("div",{children:l.attributes.map((b,Q)=>e("button",{className:`bg-white text-center py-1 px-4 w-full font-semibold
                                            text-xs leading-8 text-gray-900 border border-gray-200 flex items-center
                                             rounded-full justify-center transition-all duration-300 hover:bg-gray-50
                                              hover:shadow-sm hover:shadow-gray-100 hover:border-gray-300
                                              visited:border-gray-300 visited:bg-gray-50 mb-2`,children:b.title}))})]}))})})]}),a("div",{className:"Availability inline-block font-bold mb-5 mr-auto",children:[e("span",{className:"text-gray-400 text-xs",children:"موجودی: "}),e("span",{className:"text-gray-400 text-xs px-1",children:t.stock===0?e(p,{children:"ناموجود"}):e(p,{children:"موجود در انبار"})}),e(P,{className:"w-4 h-4 text-primary inline-block"}),"(",t.stock," عدد)"]}),a("div",{className:"flex justify-start items-center  w-full",children:[e("div",{className:"w-32",children:e("strong",{children:"مناسب برای:"})}),e("div",{className:"flex flex-wrap gap-2 max-w-md",children:t.car_models.map((l,s)=>e("div",{className:"badge badge-neutral badge-dash ruby",children:l.title},s))})]}),a("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 py-8",children:[a("button",{onClick:()=>w(t),className:`group transition-all duration-500 p-4 w-auto  flex items-center
                                         justify-center gap-2  rounded-full bg-indigo-50
                                         hover:bg-indigo-100 hover:shadow-sm hover:shadow-indigo-300`,children:[e(Z,{width:"26",height:"26"}),"اضافه به علامندی"]}),a("button",{onClick:()=>N(t),className:`group py-3 px-5 rounded-full bg-red-600 text-base-100
                                        font-semibold text-lg w-full flex items-center justify-center gap-2
                                        transition-all duration-500 hover:bg-indigo-100`,children:[e(D,{className:" ",width:22,height:22}),"افزودن به سبد خرید"]})]})]})})]})}),e("div",{className:"mt-10 border-t border-gray-200 pt-10",children:a("div",{className:"tabs tabs-lift",children:[e("input",{type:"radio",name:"my_tabs_3",className:"tab","aria-label":"معرفی"}),a("div",{className:"tab-content bg-base-100 border-base-300 p-6",children:[e("div",{dangerouslySetInnerHTML:{__html:t.about}}),e("div",{className:"prose prose-sm mt-4 text-gray-500",children:e("ul",{className:"list  gap-y-4 mb-8",children:t.specs.map((l,s)=>a("li",{className:"list-row flex justify-start",children:[e("div",{className:"w-48",children:a("strong",{children:[l.title,":"]})}),e("div",{children:l.value})]},s))})})]}),e("input",{type:"radio",name:"my_tabs_3",className:"tab","aria-label":"بررسی تخصصی",defaultChecked:!0}),e("div",{className:"tab-content bg-base-100 border-base-300 p-6",children:e("div",{dangerouslySetInnerHTML:{__html:t.description}})}),e("input",{type:"radio",name:"my_tabs_3",className:"tab","aria-label":"دیدگاه ها"}),a("div",{className:"tab-content bg-base-100 border-base-300 p-6",children:[d.map((l,s)=>e(W,{review:l,i:s})),g?e(q,{reviewType:"product",model_id:t.id}):a("div",{role:"alert",className:"alert alert-success",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{children:"شما دیدگاه خود را قبلا ارسال کرده اید."})]})]})]})})]}),e(E,{relatedProducts:o,handleAdd:N,handleWish:w})]})}O.layout=t=>e(F,{isSingle:!0,children:t});export{O as default};

import{jsx as e,jsxs as a}from"react/jsx-runtime";import{router as n}from"@inertiajs/react";import{useState as s}from"react";import R from"./MultiRangeSlider-BON0lKoX.js";import i from"./searchFilter-B8iKzvDk.js";import{Disclosure as o,DisclosureButton as m,DisclosurePanel as u}from"@headlessui/react";import{Plus as h,Minus as p}from"lucide-react";function T({brands:w=null,carBrands:v=null,carModels:y=null,categories:S=null,filters:k=null,routeParam:d=null,children:j}){const[f,_]=s(!1),[N,C]=s(!1),[F,D]=s(0),[M,O]=s(99e6),[l,B]=s({brands:[],carBrands:[],carModels:[],categories:[]}),[g,P]=s({}),H=(r,t)=>{D(r),O(t),n.get(route(route().current(),d),{priceMin:r,priceMax:t,staticFilters:l,dynamicFilters:g},{replace:!0,preserveState:!0,preserveScroll:!0})},b=(r,t)=>{B(x=>{const c={...x,[r]:t};return n.get(route(route().current(),d),{priceMin:F,priceMax:M,staticFilters:c,dynamicFilters:g},{replace:!0,preserveState:!0,preserveScroll:!0}),c})},I=(r,t)=>{P(x=>{const c={...x,[r]:t};return n.get(route(route().current(),d),{priceMin:F,priceMax:M,staticFilters:l,dynamicFilters:c},{replace:!0,preserveState:!0,preserveScroll:!0}),c})},z=()=>{_(!f),n.get(route(route().current(),d),{in_stock:!f},{replace:!0,preserveState:!0,preserveScroll:!0})},L=()=>{C(!N),n.get(route(route().current(),d),{has_promotion:!N},{replace:!0,preserveState:!0,preserveScroll:!0})};return e("div",{className:"md:col-span-4 lg:col-span-3 lg:px-0  px-3",children:a("div",{className:"drawer lg:drawer-open flex w-full",children:[e("input",{id:"my-drawer-3",type:"checkbox",className:"drawer-toggle"}),e("div",{className:"drawer-content flex flex-col items-center justify-center",children:e("label",{htmlFor:"my-drawer-3",className:"btn btn-xs btn-error text-base-100 drawer-button lg:hidden fixed right-0 top-3/8 z-1",children:"فیلترها"})}),a("div",{className:"drawer-side h-full w-full",children:[e("label",{htmlFor:"my-drawer-3","aria-label":"close sidebar",className:"drawer-overlay"}),a("div",{className:"border-[1px] border-gray-300 border-t-[#d8330a] rounded-md overflow-hidden",children:[e("div",{className:"bg-[#d8330a] text-base-100 py-3 px-7 font-semibold",children:"فیلترها"}),a("ul",{className:"bg-base-100 py-4",children:[e("li",{children:e("fieldset",{className:"fieldset bg-base-100 border-base-300 rounded-box w-full lg:w-64 border p-4 mb-5",children:a("label",{className:"label flex justify-between items-center",children:[e("input",{type:"checkbox",defaultChecked:!0,className:"toggle",checked:f,onChange:()=>z()}),e("div",{children:"فقط موجود ها"})]})})}),e("li",{children:e("fieldset",{className:"fieldset bg-base-100 border-base-300 rounded-box w-full lg:w-64 border p-4 mb-5",children:a("label",{className:"label flex justify-between items-center",children:[e("input",{type:"checkbox",defaultChecked:!0,className:"toggle",checked:N,onChange:()=>L()}),e("div",{children:"تخفیف دار ها"})]})})}),e("li",{children:a("fieldset",{className:"fieldset bg-base-100 border-base-300 rounded-box w-full lg:w-64 border p-4 mb-5",children:[e("div",{className:"",children:"محدوده قیمت"}),e(R,{min:0,max:99e6,onChange:({min:r,max:t})=>H(r,t)})]})}),w&&e("li",{className:"border-b border-gray-300 mb-2 pb-2",children:a(o,{as:"div",className:"px-4",defaultOpen:!0,children:[e("dt",{children:a(m,{className:"group flex w-full items-start justify-between text-left ",children:[e("span",{className:" text-sm font-medium ",children:"         برند ها"}),a("span",{className:"ml-6 flex h-7 items-center",children:[e(h,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e(p,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e(u,{as:"dd",className:"mt-4 p-0",children:e(i,{groupName:"brands",data:w,selected:l.brands,setSelected:r=>b("brands",r)})})]})},1),v&&e("li",{className:"border-b border-gray-300 mb-2 pb-2",children:a(o,{as:"div",className:"px-4",defaultOpen:!0,children:[e("dt",{children:a(m,{className:"group flex w-full items-start justify-between text-left ",children:[e("span",{className:" text-sm font-medium ",children:" برند خودرو"}),a("span",{className:"ml-6 flex h-7 items-center",children:[e(h,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e(p,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e(u,{as:"dd",className:"mt-4 p-0",children:e(i,{groupName:"carBrands",data:v,selected:l.carBrands,setSelected:r=>b("carBrands",r)})})]})},2),y&&e("li",{className:"border-b border-gray-300 mb-2 pb-2",children:a(o,{as:"div",className:"px-4",defaultOpen:!0,children:[e("dt",{children:a(m,{className:"group flex w-full items-start justify-between text-left ",children:[e("span",{className:" text-sm font-medium ",children:" نوع خودرو"}),a("span",{className:"ml-6 flex h-7 items-center",children:[e(h,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e(p,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e(u,{as:"dd",className:"mt-4 p-0",children:e(i,{groupName:"carModels",data:y,selected:l.carModels,setSelected:r=>b("carModels",r)})})]})},3),S&&e("li",{className:"border-b border-gray-300 mb-2 pb-2",children:a(o,{as:"div",className:"px-4",defaultOpen:!0,children:[e("dt",{children:a(m,{className:"group flex w-full items-start justify-between text-left ",children:[e("span",{className:" text-sm font-medium ",children:" دسته بندی"}),a("span",{className:"ml-6 flex h-7 items-center",children:[e(h,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e(p,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e(u,{as:"dd",className:"mt-4 p-0",children:e(i,{groupName:"categories",data:S,selected:l.categories,setSelected:r=>b("categories",r)})})]})},4),k&&k.map(r=>e("li",{children:a(o,{as:"div",className:"px-4",defaultOpen:!0,children:[e("dt",{children:a(m,{className:"group flex w-full items-start justify-between text-left ",children:[e("span",{className:" text-sm font-medium ",children:r.title}),a("span",{className:"ml-6 flex h-7 items-center",children:[e(h,{"aria-hidden":"true",className:"h-4 w-4 group-data-[open]:hidden"}),e(p,{"aria-hidden":"true",className:"h-4 w-4 [.group:not([data-open])_&]:hidden"})]})]})}),e(u,{as:"dd",className:"mt-4 p-0",children:e(i,{groupName:r.title,data:r.values.map(t=>({label:t,value:t})),selected:g[r.id]||[],setSelected:t=>I(r.id,t)})})]})},r.id)),j]})]})]})]})})}export{T as default};

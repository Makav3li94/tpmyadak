import{jsx as e,jsxs as t}from"react/jsx-runtime";import{router as i}from"@inertiajs/react";import{useState as s}from"react";import P from"./MultiRangeSlider-BON0lKoX.js";import o from"./searchFilter-B8iKzvDk.js";import"lucide-react";function E({brands:h=null,carBrands:g=null,carModels:x=null,categories:f=null,filters:N=null,routeParam:c=null,children:S}){const[p,w]=s(!1),[m,k]=s(!1),[v,F]=s(0),[y,M]=s(99e6),[a,C]=s({brands:[],carBrands:[],carModels:[],categories:[]}),[u,j]=s({}),B=(r,l)=>{F(r),M(l),i.get(route(route().current(),c),{priceMin:r,priceMax:l,staticFilters:a,dynamicFilters:u},{replace:!0,preserveState:!0,preserveScroll:!0})},n=(r,l)=>{C(b=>{const d={...b,[r]:l};return i.get(route(route().current(),c),{priceMin:v,priceMax:y,staticFilters:d,dynamicFilters:u},{replace:!0,preserveState:!0,preserveScroll:!0}),d})},D=(r,l)=>{j(b=>{const d={...b,[r]:l};return i.get(route(route().current(),c),{priceMin:v,priceMax:y,staticFilters:a,dynamicFilters:d},{replace:!0,preserveState:!0,preserveScroll:!0}),d})},H=()=>{w(!p),i.get(route(route().current(),c),{in_stock:!p},{replace:!0,preserveState:!0,preserveScroll:!0})},I=()=>{k(!m),i.get(route(route().current(),c),{has_promotion:!m},{replace:!0,preserveState:!0,preserveScroll:!0})};return e("div",{className:"md:col-span-4 lg:col-span-3 lg:px-0  px-3",children:t("div",{className:"drawer lg:drawer-open flex",children:[e("input",{id:"my-drawer-3",type:"checkbox",className:"drawer-toggle"}),e("div",{className:"drawer-content flex flex-col items-center justify-center",children:e("label",{htmlFor:"my-drawer-3",className:"btn btn-xs btn-error text-base-100 drawer-button lg:hidden fixed right-0 top-2/4 z-1",children:"فیلترها"})}),t("div",{className:"drawer-side h-full",children:[e("label",{htmlFor:"my-drawer-3","aria-label":"close sidebar",className:"drawer-overlay"}),t("div",{className:"border-[1px] border-gray-300 border-t-[#d8330a] rounded-md overflow-hidden",children:[e("div",{className:"bg-[#d8330a] text-base-100 py-3 px-7 font-semibold",children:"فیلترها"}),t("ul",{className:"bg-base-100 py-4",children:[e("li",{children:e("fieldset",{className:"fieldset bg-base-100 border-base-300 rounded-box w-full lg:w-64 border p-4 mb-5",children:t("label",{className:"label flex justify-between items-center",children:[e("input",{type:"checkbox",defaultChecked:!0,className:"toggle",checked:p,onChange:()=>H()}),e("div",{children:"فقط موجود ها"})]})})}),e("li",{children:e("fieldset",{className:"fieldset bg-base-100 border-base-300 rounded-box w-full lg:w-64 border p-4 mb-5",children:t("label",{className:"label flex justify-between items-center",children:[e("input",{type:"checkbox",defaultChecked:!0,className:"toggle",checked:m,onChange:()=>I()}),e("div",{children:"تخفیف دار ها"})]})})}),e("li",{children:t("fieldset",{className:"fieldset bg-base-100 border-base-300 rounded-box w-full lg:w-64 border p-4 mb-5",children:[e("div",{className:"",children:"محدوده قیمت"}),e(P,{min:0,max:99e6,onChange:({min:r,max:l})=>B(r,l)})]})}),h&&e("li",{children:t("div",{className:"collapse collapse-plus bg-base-100 px-4",children:[e("input",{type:"radio",name:"filter-brands",defaultChecked:!0}),e("div",{className:"collapse-title text-gray-600 text-sm font-medium border-b border-gray-300",children:"برند ها"}),e("div",{className:"collapse-content mt-4 p-0",children:e(o,{groupName:"brands",data:h,selected:a.brands,setSelected:r=>n("brands",r)})})]})}),g&&e("li",{children:t("div",{className:"collapse collapse-plus bg-base-100 px-4",children:[e("input",{type:"radio",name:"filter-carBrands"}),e("div",{className:"collapse-title text-gray-600 text-sm font-medium border-b border-gray-300",children:"برند خودرو"}),e("div",{className:"collapse-content mt-4 p-0",children:e(o,{groupName:"carBrands",data:g,selected:a.carBrands,setSelected:r=>n("carBrands",r)})})]})}),x&&e("li",{children:t("div",{className:"collapse collapse-plus bg-base-100 px-4",children:[e("input",{type:"radio",name:"filter-carModels"}),e("div",{className:"collapse-title text-gray-600 text-sm font-medium border-b border-gray-300",children:"نوع خودرو"}),e("div",{className:"collapse-content mt-4 p-0",children:e(o,{groupName:"carModels",data:x,selected:a.carModels,setSelected:r=>n("carModels",r)})})]})}),f&&e("li",{children:t("div",{className:"collapse collapse-plus bg-base-100 px-4",children:[e("input",{type:"radio",name:"filter-categories"}),e("div",{className:"collapse-title text-gray-600 text-sm font-medium border-b border-gray-300",children:"دسته بندی"}),e("div",{className:"collapse-content mt-4",children:e(o,{groupName:"categories",data:f,selected:a.categories,setSelected:r=>n("categories",r)})})]})}),N&&N.map(r=>e("li",{children:t("div",{className:"collapse collapse-plus bg-base-100 px-4",children:[e("input",{type:"radio",name:"accordion-dynamic-filters"}),e("div",{className:"collapse-title text-gray-600 text-sm font-medium border-b border-gray-300",children:r.title}),e("div",{className:"collapse-content mt-4",children:e(o,{groupName:r.title,data:r.values.map(l=>({label:l,value:l})),selected:u[r.id]||[],setSelected:l=>D(r.id,l)})})]})},r.id)),S]})]})]})]})})}export{E as default};

import{jsxs as a,Fragment as g,jsx as t}from"react/jsx-runtime";import{Star as c}from"lucide-react";import{useForm as f}from"@inertiajs/react";import{useState as d}from"react";import{b,T as x,a as y,s as u}from"./textarea-input-CXyI_aPO.js";import{B as N}from"./button-s_fcD1op.js";import{C as p}from"./card-BmfKSUuz.js";import"sonner";function v(e){return a(g,{children:[t("fieldset",{className:"fieldset",children:a("label",{className:"fieldset-label",children:[t("input",{name:e.name,type:"checkbox",className:"checkbox bg-base-100",onChange:e.onChange,checked:e.value,disabled:e.disabled}),e.label]})}),t(b,{error:e.error})]})}function D({review:e,i:s}){return a("div",{className:"flex space-x-4 text-sm text-gray-500 pb-4 border-b border-gray-300",children:[t("div",{className:"flex-none py-10",children:t("span",{className:"rounded-full mx-auto mt-4 inline-flex items-center justify-center h-[4.375rem] w-[4.375rem]  bg-gray-500 text-sm font-semibold text-white leading-none",children:e.author.name.split(" ").map(l=>l[0]).join("").toUpperCase()})}),a("div",{className:`${s===0?"":"border-t border-gray-200"}  py-10 w-full`,children:[t("h3",{className:"font-medium text-gray-900",children:e.author.name}),t("p",{children:t("time",{dateTime:e.created_at,children:e.created_at})}),a("div",{className:"mt-4 flex items-center",children:[t(c,{className:`w-6 h-6 lg:w-4 lg:h-4 ${e.rating>=1?"text-yellow-500":"text-gray-500"}`}),t(c,{className:`w-6 h-6 lg:w-4 lg:h-4 ${e.rating>=2?"text-yellow-500":"text-gray-500"}`}),t(c,{className:`w-6 h-6 lg:w-4 lg:h-4 ${e.rating>=3?"text-yellow-500":"text-gray-500"}`}),t(c,{className:`w-6 h-6 lg:w-4 lg:h-4 ${e.rating>=4?"text-yellow-500":"text-gray-500"}`}),t(c,{className:`w-6 h-6 lg:w-4 lg:h-4 ${e.rating>=5?"text-yellow-500":"text-gray-500"}`})]}),a("p",{className:"sr-only",children:[e.rating," از 5"]}),t("div",{className:"mt-2",children:t("strong",{className:"mt-2",children:e.title})}),t("div",{dangerouslySetInnerHTML:{__html:e.review},className:"prose prose-sm mt-4 max-w-none text-gray-500"})]})]},e.id)}const w=({error:e})=>e?t("p",{className:" text-red-600 invalid-feedback ",children:e}):null;function C(e){const[s,l]=d(e.current?e.current:null),[n,i]=d(null);return a("div",{className:"form-control w-full  gap-16 flex flex-row justify-between items-center",children:[a("label",{className:" py-5 font-400 me-12 text-xs",children:["     ",e.label]}),t("div",{className:"me-2",children:[...Array(5)].map((h,m)=>{const r=m+1;return a("label",{children:[t("input",{type:"radio",name:"rating",className:"hidden",value:r,onChange:()=>{e.setData(e.name,r),l(r)}}),t("span",{className:`text-sm ${r<=(n||s)?"mfon":"mfoff"} cursor-pointer `,onMouseEnter:()=>i(r),onMouseLeave:()=>i(null),children:"★"},`user-${m}`)]},m)})}),t(w,{error:e.error})]})}function F({reviewType:e,model_id:s}){const{data:l,setData:n,post:i,put:h,processing:m,errors:r,reset:T,clearErrors:S}=f({model_id:s,title:"",body:"",overall:"",recommend:"",review_type:e});return t(p,{children:a("form",{className:"form-control space-y-2.5 flex flex-col",onSubmit:o=>{o.preventDefault(),i(route("user.review.store"),{onSuccess:()=>u("دیدگاه شما با موفقیت ثبت شد.","success"),onError:()=>u("مشکلی پیش آمد.","error")})},children:[t(x,{name:"title",value:l.title,onChange:o=>n("title",o.target.value),label:"عنوان",error:r.title}),t(y,{name:"body",required:!0,value:l.body,onChange:o=>n("body",o.target.value),label:"متن",placeHolder:"نظر خود را بنویسید",error:r.body}),a("div",{className:"flex gap-3 justify-between items-center",children:[t("div",{className:"basis-full sm:basis-1/2",children:t(v,{label:"توصیه میکنید؟",name:"recommend",value:l.recommend,onChange:()=>n("recommend",1),error:r.recommend})}),t("div",{className:"basis-full sm:basis-1/2",children:t(C,{label:"امتیاز شما",data:l,setData:n,name:"overall"})})]}),t("div",{className:"divider"}),t("div",{className:"flex items-center space-x-2 mt-4 justify-end",children:t(N,{processing:m,btnType:"submit",type:"primary",children:"ارسال نظر"})})]})})}export{D as R,F as a};

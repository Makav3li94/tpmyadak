import{jsx as e,Fragment as p,jsxs as s}from"react/jsx-runtime";import{useState as x,useEffect as u}from"react";import{Link as i,router as g,usePage as d}from"@inertiajs/react";import{s as w,B as f}from"./textarea-input-CXyI_aPO.js";import{LayoutDashboard as v,BringToFront as y,SaudiRiyal as k,ListOrdered as j,TicketCheck as S,Megaphone as C,X as T,LogOut as b,Lightbulb as L,Eye as c,User as M,Menu as U}from"lucide-react";import{Toaster as z}from"sonner";import{a as H}from"./hooks-DXR5ACFX.js";import{themeChange as q}from"theme-change";import{T as B,H as O,a as P}from"./header-single-nqXylpNz.js";function _({user:a,show:n,setShow:t}){const l=[{name:"داشبورد",href:route("user.dashboard"),icon:v,current:!0},{name:"سفارش ها",href:route("user.orders.index"),icon:y,current:!0},{name:"تراکنش ها",href:route("user.transactions.index"),icon:k,current:!0},{name:"لیست خرید",href:route("user.wishlists.index"),icon:j,current:!0},{name:"تیکت ها",href:route("user.tickets.index"),icon:S,current:!0},{name:"اعلان ها",href:route("user.notifications.index"),icon:C,current:!0}];return e(p,{children:s("div",{className:`${!n&&"hidden"} flex flex-col h-screen overflow-y-auto transition-all
           duration-300 transform sticky top-0 start-0 bottom-0  w-full md:w-64
            bg-base-100 c-shadow
            lg:translate-x-0 lg:end-auto lg:bottom-0 `,children:[e("div",{className:"flex flex-col justify-between flex-1",children:s("div",{className:"",children:[s("div",{className:"flex flex-row justify-between items-center lg:justify-center p-6",children:[e("div",{className:"",children:a.name}),e("div",{className:"block lg:hidden",onClick:()=>t(),children:e(T,{className:"w-5 h-5"})})]}),e("nav",{className:"w-full",children:s("ul",{className:"w-full menu rounded-box gap-3",children:[l.map(r=>e("li",{children:s(i,{href:r.href,children:[e(r.icon,{"aria-hidden":"true",className:"h-6 w-6 shrink-0"}),r.name]})},r.name)),e("li",{className:"mt-auto",children:s("div",{onClick:()=>g.post(route("logout")),children:[e(b,{className:"h-5 w-5","aria-hidden":"true"}),"خروج"]})})]})})]})}),e("div",{className:"p-6",children:e("p",{className:"text-sm font-light text-center bottom-4 left-4 text-base-content",children:"TPM"})})]})})}function E(){const{props:{notification_count:a,notifications:n}}=d();return s("details",{className:"dropdown dropdown-end p-1 hover:bg-base-100 rounded-md",children:[e("summary",{className:"btn btn-link text-base-content no-underline px-0 my-0",children:s("div",{className:"indicator",children:[e("span",{className:"indicator-item badge badge-sm badge-secondary",children:a}),e("label",{className:"  hover:bg-base-200 p-2 rounded-2xl",children:e(L,{className:" h-5 w-5"})})]})}),e("ul",{className:"list  mt-2 menu dropdown-content z-1 bg-base-100  shadow rounded-box w-94   ",children:a===0?e("li",{className:"list-row items-center",children:"اعلانی ندارید :("}):n.map((t,l)=>s("li",{className:"list-row items-center",children:[e("div",{className:"text-4xl font-thin opacity-30 tabular-nums",children:++l}),e("div",{className:"list-col-grow",children:t.data.message}),t.data.type==="order"&&e(i,{href:route("admin.orders.show",t.data.type_id),className:"btn btn-square btn-ghost",children:e(c,{className:"size-[1.2em]"})}),t.data.type==="register"&&e(i,{href:route("admin.users.edit",t.data.type_id),className:"btn btn-square btn-ghost",children:e(c,{className:"size-[1.2em]"})}),t.data.type==="tx"&&e(i,{href:route("admin.transactions.index"),className:"btn btn-square btn-ghost",children:e(c,{className:"size-[1.2em]"})})]}))})]})}function F(){const{props:{auth:a}}=d();return s("details",{className:"dropdown dropdown-end p-1 hover:bg-base-100 rounded-md",children:[e("summary",{className:"btn btn-link text-base-content no-underline px-0 my-0",children:s("div",{className:"flex flex-row gap-2",children:[e("div",{className:"avatar avatar-placeholder",children:e("div",{className:"bg-neutral text-neutral-content w-9 h-9 rounded-full",children:e("span",{className:"text-md font-bold",children:a.user.name.split(" ").slice(0,2).map(n=>n[0]).join("").toUpperCase()})})}),s("div",{className:"flex flex-col text-left",children:[e("div",{className:"text-sm",children:a.user.name}),e("div",{className:"text-sm font-light",children:"پروفایل"})]})]})}),s("ul",{className:"mt-2 menu dropdown-content z-1 bg-base-100  shadow rounded-box w-52",children:[e("li",{children:s(i,{href:route("admin.profile.edit"),as:"button",className:"btn btn-sm btn-block btn-ghost justify-start",children:[e(M,{className:"w-4 h-4"}),"پروفایل من"]})}),e("li",{children:s(i,{href:route("admin.logout"),method:"post",as:"button",className:"btn btn-sm btn-block btn-error btn-ghost justify-start",children:[e(b,{className:"w-4 h-4"}),"خروج"]})})]})]})}function W({children:a,title:n="",breadcumbs:t=[]}){const{props:{auth:l,flash:r}}=d(),{isShowSidebar:o,toggleSidebar:m}=H(!0),[$,A]=x(!1);return u(()=>{r.message!==null&&w(r.message.message,r.message.type)},[r]),u(()=>{q(!1)},[]),s("div",{className:"min-h-screen flex flex-col sm:justify-center items-center w-full",children:[e(B,{user:l.user}),e(O,{}),e(P,{}),s("div",{class:"container mx-auto relative my-5",children:[s("main",{className:`transition ${o?"lg:mr-64":"ml-0 "}`,children:[e("nav",{className:"bg-base-100 c-shadow",children:e("div",{className:"mx-auto px-4 py-2",children:s("div",{className:"flex justify-between",children:[e("div",{className:"-mr-2 flex items-center space-x-2",children:e("button",{onClick:()=>m(),className:"inline-flex items-center justify-center lg:hidden  p-2 rounded-md text-base-content focus:outline-hidden transition duration-150 ease-in-out btn btn-ghost",children:e(U,{className:"h-5 w-5"})})}),s("div",{className:"flex flex-row items-center gap-3",children:[e("div",{className:"h-full flex items-center",children:e(E,{})}),e("div",{className:"h-full flex items-center",children:e(F,{})})]})]})})}),s("div",{className:"p-6",children:[s("div",{className:"flex flex-row justify-between items-center",children:[e(f,{children:t.map((h,N)=>e(f.Item,{r:h.href,children:h.name},N))}),e("h3",{className:"text-lg font-medium",children:n})]}),e("div",{className:"mt-6",children:a})]}),e("div",{className:"mb-4"})]}),e(_,{user:l.user,show:o,setShow:m}),e(z,{theme:"system",richColors:"true",toastOptions:{duration:3e3,dismissible:!0}})]})]})}export{W as U};

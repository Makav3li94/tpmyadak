import{jsxs as t,jsx as e}from"react/jsx-runtime";import{Head as h,Link as g}from"@inertiajs/react";import{useState as n,useEffect as p}from"react";import{U as x}from"./user-authenticated-layout-CRBGqLwX.js";import{B as c}from"./badge-DHrEAO1i.js";import"./textarea-input-CXyI_aPO.js";import"lucide-react";import"dayjs";import"sonner";import"./hooks-CFRBbKAZ.js";import"theme-change";import"./header-single-C3tOy7O_.js";import"./logo-C8A0auOY.js";import"motion/react";import"react-use-cart";import"./button-s_fcD1op.js";import"./megu-menu-N_rMxthN.js";function d(...s){return s.filter(Boolean).join(" ")}function A({order:s}){const[r,m]=n(!1),[a,l]=n(0);return p(()=>{s.status==="new"&&l(0),s.status==="verify"&&l(1),s.status==="pending"&&l(2),s.status==="processing"&&l(3),s.status==="processing"&&s.shipping_status==="sending"&&l(4),s.status==="done"&&l(5),m(!0)},[]),console.log(s),t(x,{title:"سفارش",breadcumbs:[{name:"پنل کاربری",href:route("user.dashboard")},{name:"سفارش",href:route("user.orders.index")}],children:[e(h,{title:"سفارش"}),e("div",{className:"bg-gray-50",children:t("div",{className:"mx-auto max-w-2xl pt-16 sm:px-6 sm:py-24 lg:max-w-7xl lg:px-8",children:[t("div",{className:"space-y-2 px-4 sm:flex sm:items-baseline sm:justify-between sm:space-y-0 sm:px-0",children:[t("div",{className:"flex sm:items-baseline sm:space-x-4",children:[e("h1",{className:"text-2xl font-bold tracking-tight text-gray-900 sm:text-3xl",children:"سفارش #54879"}),t("a",{href:"#",className:"hidden text-sm font-medium text-indigo-600 hover:text-indigo-500 sm:block",children:["مشاهده فاکتور",e("span",{"aria-hidden":"true",children:" ←"})]})]}),t("p",{className:"text-sm text-gray-600",children:["تاریخ ثبت"," ",e("time",{dateTime:"2021-03-22",className:"font-medium text-gray-900",dir:"ltr",children:s.created_at})]}),t("a",{href:"#",className:"text-sm font-medium text-indigo-600 hover:text-indigo-500 sm:hidden",children:["مشاهده فاکتور",e("span",{"aria-hidden":"true",children:" ←"})]})]}),t("div",{className:"mt-6",children:[e("h2",{className:"sr-only",children:"کالاهای سفارش"}),t("div",{className:"space-y-8",children:[s.details.map((i,o)=>e("div",{className:"border-b border-t border-gray-200 bg-white shadow-sm sm:rounded-lg sm:border",children:t("div",{className:"px-4 py-6 sm:px-6 lg:grid lg:grid-cols-12 lg:gap-x-8 lg:p-8",children:[t("div",{className:"sm:flex lg:col-span-7",children:[e("div",{className:"aspect-h-1 aspect-w-1 w-full flex-shrink-0 overflow-hidden rounded-lg sm:aspect-none sm:h-40 sm:w-40",children:e("img",{alt:i.title,src:`https://cdn.tpmyadak.com/prothumb/${i.product.image}`,className:"h-full w-full object-cover object-center sm:h-full sm:w-full"})}),t("div",{className:"mt-6 sm:ml-6 sm:mt-0",children:[e("h3",{className:"text-base font-medium text-gray-900",children:e(g,{href:route("home.getProduct",i.product.sku),children:i.title})}),t("p",{className:"mt-2 text-sm font-medium text-gray-900",children:["$",i.amount.toLocaleString("en")]})]})]}),e("div",{className:"mt-6 lg:col-span-5 lg:mt-0",children:t("dl",{className:"grid grid-cols-2 gap-x-6 text-sm",children:[t("div",{children:[e("dt",{className:"font-medium text-gray-900",children:"آدرس تحویل"}),t("dd",{className:"mt-3 text-gray-500",children:[e("span",{className:"block",children:s.address}),e("span",{className:"block",children:s.postal_code})]})]}),t("div",{children:[e("dt",{className:"font-medium text-gray-900",children:"اطلاعات گیرنده"}),t("dd",{className:"mt-3 space-y-3 text-gray-500",children:[e("p",{children:s.name}),e("p",{children:s.mobile}),e("p",{children:s.phone})]})]})]})})]})},o)),r&&t("div",{className:"border-t border-gray-200 px-4 py-6 sm:px-6 lg:p-8",children:[e("h4",{className:"sr-only",children:"وضعیت سفارش"}),t("p",{className:"text-sm font-medium text-gray-900",children:["وضعیت سفارش",s.status==="hold"&&e(c,{className:"mr-2",type:"error",outline:!0,children:"معلق"}),s.status==="canceled"&&e(c,{className:"mr-2",type:"error",outline:!0,children:"کنسل شده"}),s.status==="refunded"&&e(c,{className:"mr-2",type:"error",outline:!0,children:"مرجوع"})]}),t("div",{"aria-hidden":"true",className:"mt-6",children:[e("div",{className:"overflow-hidden rounded-full bg-gray-200",children:e("div",{style:{width:`calc((${a} * 2 + 1) / 12 * 100%)`},className:"h-2 rounded-full bg-indigo-600"})}),t("div",{className:"mt-6 hidden grid-cols-6 text-sm font-medium text-gray-600 sm:grid",children:[e("div",{className:"text-indigo-600",children:"ثبت"}),e("div",{className:d(a>0?"text-indigo-600":"","text-center"),children:"تایید"}),e("div",{className:d(a>1?"text-indigo-600":"","text-center"),children:"صف پردازش"}),e("div",{className:d(a>2?"text-indigo-600":"","text-center"),children:"پردازش"}),e("div",{className:d(a>3?"text-indigo-600":"","text-center"),children:"ارسال"}),e("div",{className:d(a>4?"text-indigo-600":"","text-left"),children:"تکمیل"})]})]})]})]})]}),t("div",{className:"mt-16",children:[e("h2",{className:"sr-only",children:"وضعیت پرداخت"}),s.payment_status==="paid"?t("div",{className:"bg-gray-100 px-4 py-6 sm:rounded-lg sm:px-6 lg:grid lg:grid-cols-12 lg:gap-x-8 lg:px-8 lg:py-8",children:[t("dl",{className:"grid grid-cols-2 gap-6 text-sm sm:grid-cols-2 md:gap-x-8 lg:col-span-7",children:[t("div",{children:[e("dt",{className:"font-medium text-gray-900",children:"متد پرداخت"}),t("dd",{className:"mt-3 text-gray-500",children:[e("span",{className:"block",children:"درگاه"}),e("span",{className:"block",children:"یکجا"})]})]}),t("div",{children:[e("dt",{className:"font-medium text-gray-900",children:"رهگیری پرداخت"}),t("dd",{className:"-ml-4 -mt-1 flex flex-wrap",children:[e("div",{className:"ml-4 mt-4 flex-shrink-0",children:e("p",{className:"sr-only",children:"کارت بانکی"})}),t("div",{className:"ml-4 mt-4",children:[e("p",{className:"text-gray-900",children:s.transaction.verify_code}),e("p",{className:"text-gray-600",dir:"ltr",children:s.transaction.created_at})]})]})]})]}),t("dl",{className:"mt-8 divide-y divide-gray-200 text-sm lg:col-span-5 lg:mt-0",children:[t("div",{className:"flex items-center justify-between pb-4",children:[e("dt",{className:"text-gray-600",children:"مجموع"}),e("dd",{className:"font-medium text-gray-900",children:s.subtotal.toLocaleString("en")})]}),t("div",{className:"flex items-center justify-between py-4",children:[e("dt",{className:"text-gray-600",children:"ارسال"}),e("dd",{className:"font-medium text-gray-900",children:s.shipping.toLocaleString("en")})]}),t("div",{className:"flex items-center justify-between py-4",children:[e("dt",{className:"text-gray-600",children:"مالیات"}),e("dd",{className:"font-medium text-gray-900",children:"0"})]}),t("div",{className:"flex items-center justify-between pt-4",children:[e("dt",{className:"font-medium text-gray-900",children:"کل پرداختی"}),e("dd",{className:"font-medium text-indigo-600",children:s.total.toLocaleString("en")})]})]})]}):t("div",{role:"alert",className:"alert alert-error",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{children:"عدم پرداخت-لطفا مجددا سفارش را ثبت کنید"})]})]})]})})]})}export{A as default};

import{jsx as e,jsxs as t,Fragment as S}from"react/jsx-runtime";import{Link as c,usePage as $}from"@inertiajs/react";import{LockOpen as q,Contact as A,Instagram as B,Linkedin as D,Send as F,MessageCircleMore as E,Twitter as P,Moon as _,Sun as O,Search as z,XIcon as R,ShoppingCart as G,Plus as Q,Minus as U,Menu as H,ChevronLeft as u}from"lucide-react";import{useState as d,useEffect as w,useRef as V}from"react";import{l as M}from"./logo-C8A0auOY.js";import{motion as k}from"motion/react";import{b as W}from"./hooks-CFRBbKAZ.js";import{useCart as X}from"react-use-cart";import"./textarea-input-CS_jPfHL.js";import{B as C}from"./button-s_fcD1op.js";import"sonner";import"dayjs";import{a as g,M as J,T as K}from"./top-nav-D2NhGhC3.js";function me({user:o}){return e("header",{className:"w-full flex justify-center   bg-black text-[#878787]",children:t("div",{className:"container  flex justify-between py-3",children:[e("div",{className:"flex items-center ",children:o===null?t(c,{href:route("login"),title:"enter",className:"enter flex items-center group pr-4 transition-colors duration-400 ease-in",children:[e(q,{className:"w-4 ml-2"}),e("div",{className:"font-light text-sm sm:text-base group-hover:text-[#d8330a] transition duration-400 ease-in",children:"ثبت نام/ورود"})]}):t(c,{href:route("user.dashboard"),title:"enter",className:"enter flex items-center group pr-4 transition-colors duration-400 ease-in",children:[e(A,{className:"w-4 ml-2"}),e("div",{className:"font-light text-sm sm:text-base group-hover:text-[#d8330a] transition duration-400 ease-in",children:o.name})]})}),t("div",{className:"icons hidden sm:block items-center ",children:[e("a",{href:"#",rel:"nofollow noopener",title:"instagram",className:"items-center pl-2",children:e(B,{className:"w-6 h-6 inline-block border border-gray-500 p-0.5 rounded-md hover:fill-[#f7f7f7] hover:bg-[#d8330a] hover:border-[#d8330a] transition duration-300 ease-in"})}),e("a",{href:"#",rel:"nofollow noopener",title:"linkedin",className:"pl-2",children:e(D,{className:"w-6 h-6 inline-block border border-gray-500 p-0.5 rounded-md hover:fill-[#f7f7f7] hover:bg-[#d8330a] hover:border-[#d8330a] transition duration-300 ease-in"})}),e("a",{href:"#",rel:"nofollow noopener",title:"telegram",children:e(F,{className:"w-6 h-6 inline-block border border-gray-500 p-0.5 rounded-md hover:fill-[#f7f7f7] hover:bg-[#d8330a] hover:border-[#d8330a] transition duration-300 ease-in"})}),e("a",{href:"#",rel:"nofollow noopener",title:"whatsapp",className:"pr-2",children:e(E,{className:"w-6 h-6 inline-block border border-gray-500 p-0.5 rounded-md hover:fill-[#f7f7f7] hover:bg-[#d8330a] hover:border-[#d8330a] transition duration-300 ease-in"})}),e("a",{href:"#",rel:"nofollow noopener",title:"twitter",className:"pr-2",children:e(P,{className:"w-6 h-6 inline-block border border-gray-500 p-0.5 rounded-md hover:fill-[#f7f7f7] hover:bg-[#d8330a] hover:border-[#d8330a] transition duration-300 ease-in"})})]})]})})}function T(){return e("div",{className:" mr-3",children:t("label",{className:"swap swap-rotate hover:bg-base-200 p-1 rounded-2xl",children:[e("input",{type:"checkbox","data-toggle-theme":"dark,light","data-act-class":"ACTIVECLASS",className:"hidden theme-controller"}),e(_,{className:"swap-off h-5 w-5"}),e(O,{className:"swap-on h-5 w-5"})]})})}const I=({isMobile:o=!1})=>{const[a,s]=d(""),[l,i]=d([]),[h,m]=d(!1),[b,j]=d(!1),[N,f]=d(0),x=()=>{if(a.trim()===""||a!==""&&a.trim().length<2)return i([]),m(!0),!1;axios.post(route("home.product.search",a)).then(r=>{if(m(!1),r.data.data.length===0)return i([]),f(N+1),m(!1),!1;i(r.data.data)}).catch(r=>{console.log(r.stack)}),m(!1)};return w(()=>{j(!0)},[]),w(()=>{const r=setTimeout(()=>{if(m(!0),a==="")return i([]),m(!1),!1;x()},500);return()=>clearTimeout(r)},[a]),e(S,{children:e("div",{className:`${o?"border-1 border-gray-300 group-hover:max-h-64  lg:w-[180%] w-full  absolute top-32 left-0 right-2 translate-x-2 z-50 mt-1  bg-white":"searchForm hidden md:flex md:col-span-5 md:pl-6"}`,children:e("form",{className:"w-full mx-auto",children:t("div",{className:"flex",children:[e("label",{htmlFor:"search-dropdown",className:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white",children:"جست و جو محصول ..."}),t("div",{className:"relative w-full",children:[e("input",{type:"search",className:"block p-2.5 w-full z-20 text-sm text-gray-900 bg-gray-50 rounded  border-s-2 border border-gray-300 focus:ring-gray-300 focus:border-gray-300 dark:bg-gray-700 dark:border-s-gray-700  dark:border-gray-600 dark:placeholder-gray-400",placeholder:" کلمه کلیدی خود را بنویسید...",value:a,required:!0,onChange:r=>s(r.target.value)}),a===""?t("button",{type:"submit",className:"absolute top-0 end-0 p-2.5 text-sm font-medium h-full text-white bg-[#d8330a] rounded-e-lg border border-[#d8330a] focus:ring-4 focus:outline-none focus:ring-gray-300",children:[e(z,{className:"w-5 h-5"}),e("span",{className:"sr-only",children:"Search"})]}):t("button",{type:"submit",className:"absolute top-0 end-0 p-2.5 text-sm font-medium h-full text-white bg-[#d8330a] rounded-e-lg border border-[#d8330a] focus:ring-4 focus:outline-none focus:ring-gray-300",onClick:r=>{r.preventDefault(),s(""),i([]),m(!1)},children:[b&&e(R,{className:"w-5 h-5"}),e("span",{className:"sr-only",children:"Search"})]}),a!==""&&t(k.ul,{style:{overflow:"hidden"},initial:{height:0},animate:{height:"auto"},transition:{duration:.3},exit:{height:0},className:"list bg-base-100 rounded-box shadow-md absolute z-99 w-full",children:[l.filter(r=>r.type==="product").length>0&&l.filter(r=>r.type==="product").map((r,p)=>e("li",{className:"list-row",children:e(c,{target:"_blank",href:route("home.getProduct",r.sku),children:r.title.length>35?`${r.title.substring(0,35)}...`:r.title})},`prod-${p}`)),l.filter(r=>r.type==="category").length>0&&t(S,{children:[e("li",{className:"p-2 text-xs text-gray-500 font-medium",children:"جستجو در دسته‌ها"}),l.filter(r=>r.type==="category").map((r,p)=>e("li",{className:"list-row p-2 hover:bg-gray-100 bg-gray-50 border-t border-gray-200",children:e(c,{className:"font-medium text-blue-600",href:route("home.getCategory",r.slug),children:r.title})},`cat-${p}`))]}),h&&e("li",{className:"p-4 pb-2 text-xs opacity-60 tracking-wide",children:"در حال جستجو ..."}),!h&&a.length>1&&l.length===0&&e("li",{className:"p-4 pb-2 text-xs opacity-60 tracking-wide",children:"نتیجه ای یافت نشد."})]},"container")]})]})})})})},L=({isMobile:o=!1})=>{const[a,s]=d(!1),{totalUniqueItems:l,items:i,updateItemQuantity:h,removeItem:m,cartTotal:b,isEmpty:j}=X(),[N,f]=d(!1),[x,r]=d(0);function p(){let n=i.reduce((y,v)=>y=y+(v.discount===null?0:parseInt(v.discount)*v.quantity),0);r(n)}return w(()=>{a||p(),s(!0)},[a]),t(k.div,{className:"flex border-[1.5px] relative border-gray-300 rounded-md  items-center sm:w-[240px]",onHoverStart:n=>{f(!0)},onTap:n=>{f(!N)},onHoverEnd:n=>{f(!1)},children:[e("div",{className:"btn md:btn-ghost px-2",children:t("div",{className:"indicator ",children:[e("span",{className:"indicator-item badge badge-secondary  -top-2 -right-3",children:l}),e(G,{className:"w-5 h-5 "})]})}),!o&&t(S,{children:[e("span",{className:" tracking-[0.5px] px-3 py-1 border-r text-xs",children:"سبد خرید"}),t("span",{className:"text-[#d8330a] font-bold  pl-2 text-xs",children:[(b-x).toLocaleString("en")," تومان"]})]}),N&&t(k.div,{style:{overflow:"hidden"},initial:{height:0},animate:{height:"auto"},transition:{duration:.5},exit:{height:0},className:"border-1 border-gray-300 group-hover:max-h-64  lg:w-[180%] w-72  absolute top-full right-2 translate-x-2 z-50 mt-1  bg-white",children:[i.map((n,y)=>t("div",{className:`flex flex-col items-center text-gray-600 justify-between
                                         pt-3 pb-4 border-b border-gray-300 px-3`,children:[t("div",{className:"flex flex-col lg:flex-row w-full justify-around items-center",children:[e("span",{className:"flex-1 w-full  text-xs text-gray-500 hover:text-[#d8330a] transition duration-300 ease-in  ",children:n.title}),e(c,{href:route("home.getProduct",n.sku),title:"product01",children:e("img",{src:`https://cdn.tpmyadak.com/prothumb/${n.image}`,alt:"محصول انتخابی",className:"w-24 "})})]}),t("div",{className:"flex w-full justify-between items-center",children:[t("span",{className:"text-gray-500 ",children:[n.quantity," ",e("small",{className:"sm:inline-block hid",children:"عدد"})," "]}),t("span",{className:"text-gray-500    ",children:[parseInt(n.price-n.discount).toLocaleString("en")," تومان"]}),e("div",{className:"",children:t("ul",{className:"action flex items-center list-unstyled justify-center gap-3 ",children:[e("li",{className:"edit",children:e(C,{type:"success",className:"btn-xs",onClick:()=>h(n.id,n.quantity+1),children:e(Q,{className:"fs-6_5  align-middle "})})}),e("li",{className:"edit",children:parseInt(n.quantity).toLocaleString("en")}),e("li",{className:"edit",children:e(C,{type:"warning",className:"btn-xs",onClick:v=>h(n.id,n.quantity-1),children:e(U,{className:"fs-6_5  align-middle "})})})]})})]})]},y)),i.length>0?t("div",{className:"flex justify-between px-3 py-2",children:[t("span",{className:"text-[#d8330a] font-bold py-2",children:["مبلغ کل: ",(b-x).toLocaleString("en")," تومان"]}),e(c,{href:route("home.cart"),className:"btn btn-success text-base-100 hover:text-[#d8330a]",title:"checkout",children:"تکمیل خرید"})]}):t("div",{role:"alert",className:"alert w-64 sm:w-auto",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-info h-6 w-6 shrink-0",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("span",{children:"سبد خرید خالی است."})]})]},"container")]})};function Y(){const[o,a]=d(g&&g.length>0?g[0].id:null);return t("div",{className:"rtl flex h-full",children:[t("div",{className:"flex flex-col w-1/3 border-l border-gray-300  p-2 h-full sticky top-0",children:[e("button",{onClick:()=>a(99999),className:`px-1 py-2 text-right mb-1 rounded hover:bg-gray-100 break-words ${o===99999?"bg-base-300 font-semibold":""}`,children:"منو"},99999),g?.map(s=>e("button",{onClick:()=>a(s.id),className:`px-1 py-2 text-right mb-1 rounded hover:bg-gray-100 break-words ${o===s.id?"bg-base-300 font-semibold":""}`,children:s.title},s.id))]}),t("div",{className:"flex-1 p-4 overflow-y-scroll h-screen",children:[o===99999&&e("div",{className:"space-y-4",children:t("ul",{className:"text-sm space-y-1",children:[e("li",{className:"font-bold truncate",children:t(c,{href:route("home"),className:"flex justify-between items-center  hover:text-[#d8330a] pr-2 truncate",title:"home",children:[e("div",{className:"truncate",children:"خانه"}),e(u,{className:"w-3 h-3"})]})}),e("li",{className:"font-bold truncate",children:t(c,{href:route("home.getBlogs"),className:"flex justify-between items-center  hover:text-[#d8330a] pr-2 truncate",title:"getBlogs",children:[e("div",{className:"truncate",children:"بلاگ"}),e(u,{className:"w-3 h-3"})]})}),e("li",{className:"font-bold truncate",children:t(c,{href:route("home.about"),className:"flex justify-between items-center  hover:text-[#d8330a] pr-2 truncate",title:"home",children:[e("div",{className:"truncate",children:" درباره ما"}),e(u,{className:"w-3 h-3"})]})}),e("li",{className:"font-bold truncate",children:t(c,{href:route("home.contact"),className:"flex justify-between items-center  hover:text-[#d8330a] pr-2 truncate",title:"home",children:[e("div",{className:"truncate",children:"تماس با ما"}),e(u,{className:"w-3 h-3"})]})}),e("li",{className:"font-bold truncate",children:t(c,{href:route("home.faq"),className:"flex justify-between items-center  hover:text-[#d8330a] pr-2 truncate",title:"home",children:[e("div",{className:"truncate",children:"سوالات متداول"}),e(u,{className:"w-3 h-3"})]})})]},999999)},99999),g?.map(s=>o===s.id&&e("div",{className:"space-y-4",children:Array.isArray(s.children)&&s.children.map(l=>t("ul",{className:"text-sm space-y-1",children:[e("li",{className:"font-bold truncate",children:t(c,{href:`/category/${l.slug}`,className:"flex justify-between items-center  hover:text-[#d8330a] pr-2 truncate",children:[e("div",{className:"truncate",children:l.title}),e(u,{className:"w-3 h-3"})]})}),Array.isArray(l.children)&&l.children.length>0&&l.children.map(i=>e("li",{className:"text-gray-600 hover:text-[#d8330a] text-xs pr-2 truncate",children:e(c,{href:`/category/${i.slug}`,className:"truncate",children:i.title})},i.id))]},l.id))},s.id))]})]})}function ue(o){const a=V(null),{component:s}=$();w(()=>{a.current&&(a.current.checked=!1)},[s]);const[l,i]=d(!1),h=W();return e("header",{className:" w-full flex justify-center items-center",children:h?e("div",{className:"w-full  bg-base-200 lg:hidden   my-0",children:t("div",{class:"container grid grid-cols-12 py-3 px-4",children:[t("div",{className:"col-span-4 flex items-center px-1 sm:px-0",children:[e(L,{isMobile:h}),e(T,{})]}),e(c,{href:route("home"),className:"col-span-4 flex items-center py-2 justify-center  ",children:e("img",{src:M,alt:"logo",className:"h-8 sm:h-12"})}),t("div",{className:"col-span-4 flex items-center px-1 sm:px-0",children:[e("div",{className:"btn",onClick:()=>i(!l),children:e(z,{className:" h-5 w-5"})}),l&&e(k.div,{style:{overflow:"hidden"},initial:{height:0},animate:{height:"auto"},transition:{duration:.5},exit:{height:0},children:e(I,{isMobile:h})},"container"),e("div",{className:"flex items-center justify-end mr-3",children:t("div",{className:"drawer",children:[e("input",{id:"my-drawer-1",type:"checkbox",className:"drawer-toggle peer",ref:a}),e("div",{className:" drawer-content z-999 transition-all duration-300 peer-checked:absolute peer-checked:-top-20 peer-checked:right-0",children:e("label",{htmlFor:"my-drawer-1",className:"btn drawer-button",children:e(H,{})})}),t("div",{className:"drawer-side",children:[e("label",{htmlFor:"my-drawer-1",className:"drawer-overlay"}),e("ul",{className:"menu bg-base-200 w-full",children:e("div",{className:"py-4 overflow-y-auto ",children:e("ul",{className:"space-y-2 font-medium",children:e("li",{children:e(Y,{})})})})})]})]})})]})]})}):e("div",{className:"container",children:t("div",{className:"grid grid-cols-12 py-6 items-center ",children:[t("div",{className:"hidden md:flex md:col-span-4 items-center",children:[e(L,{}),e(T,{})]}),e(I,{}),e(c,{href:route("home"),className:"w-full flex col-span-12 md:col-span-3 h-auto   text-left ",dir:"ltr",children:e("img",{src:M,alt:"logo",className:"h-8 sm:h-11"})})]})})})}function fe(){return t("section",{className:"w-full container justify-center",children:[t("div",{className:" hidden lg:grid grid-cols-12 justify-between  z-0 gap-x-10",children:[e("div",{className:"lg:col-span-3",children:t("div",{className:"font-semibold group/main relative bg-gray-400 text-base-100 rounded-t-md py-3 px-7 flex justify-between cursor-pointer",children:[e("span",{children:"تمامی دسته بندی ها"}),e(H,{size:20}),e("div",{className:"hidden w-full bg-base-100 group-hover/main:block absolute top-full z-30 right-0",children:e(J,{isSingle:!0})})]})}),e("div",{className:"lg:col-span-9 lg:col-start-4",children:e(K,{})})]}),e("div",{className:"w-full border-b-2 border-[#d8330a]"})]})}export{ue as H,me as T,fe as a};
